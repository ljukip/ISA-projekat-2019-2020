{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n      d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\n\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\nimport { Internationalization, getNumericObject, isBlazor } from '@syncfusion/ej2-base';\nimport { Input } from '../input/input';\nvar ROOT = 'e-control-wrapper e-numeric';\nvar SPINICON = 'e-input-group-icon';\nvar SPINUP = 'e-spin-up';\nvar SPINDOWN = 'e-spin-down';\nvar ERROR = 'e-error';\nvar INCREMENT = 'increment';\nvar DECREMENT = 'decrement';\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\nvar DECIMALSEPARATOR = '.';\nvar COMPONENT = 'e-numerictextbox';\nvar CONTROL = 'e-control';\nvar NUMERIC_FOCUS = 'e-input-focus';\nvar HIDDENELEMENT = 'e-numeric-hidden';\nvar wrapperAttributes = ['title', 'style', 'class'];\n/**\r\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\r\n * ```html\r\n * <input type='text' id=\"numeric\"/>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var numericObj = new NumericTextBox({ value: 10 });\r\n *   numericObj.appendTo(\"#numeric\");\r\n * </script>\r\n * ```\r\n */\n\nvar NumericTextBox =\n/** @class */\nfunction (_super) {\n  __extends(NumericTextBox, _super);\n\n  function NumericTextBox(options, element) {\n    var _this = _super.call(this, options, element) || this;\n\n    _this.isVue = false;\n    _this.preventChange = false;\n    _this.numericOptions = options;\n    return _this;\n  }\n\n  NumericTextBox.prototype.preRender = function () {\n    this.isPrevFocused = false;\n    this.decimalSeparator = '.';\n    this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\n    this.isCalled = false;\n    var ejInstance = getValue('ej2_instances', this.element);\n    this.cloneElement = this.element.cloneNode(true);\n    removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\n    this.angularTagName = null;\n    this.formEle = closest(this.element, 'form');\n\n    if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n      this.angularTagName = this.element.tagName;\n      var input = this.createElement('input');\n      var index = 0;\n\n      for (index; index < this.element.attributes.length; index++) {\n        var attributeName = this.element.attributes[index].nodeName;\n\n        if (attributeName !== 'id') {\n          input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\n          input.innerHTML = this.element.innerHTML;\n        }\n      }\n\n      if (this.element.hasAttribute('name')) {\n        this.element.removeAttribute('name');\n      }\n\n      this.element.classList.remove('e-control', 'e-numerictextbox');\n      this.element.appendChild(input);\n      this.element = input;\n      setValue('ej2_instances', ejInstance, this.element);\n    }\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      attributes(this.element, {\n        'role': 'spinbutton',\n        'tabindex': '0',\n        'autocomplete': 'off',\n        'aria-live': 'assertive'\n      });\n      var localeText = {\n        incrementTitle: 'Increment value',\n        decrementTitle: 'Decrement value',\n        placeholder: this.placeholder\n      };\n      this.l10n = new L10n('numerictextbox', localeText, this.locale);\n\n      if (this.l10n.getConstant('placeholder') !== '') {\n        this.setProperties({\n          placeholder: this.placeholder || this.l10n.getConstant('placeholder')\n        }, true);\n      }\n    }\n\n    this.isValidState = true;\n    this.inputStyle = null;\n    this.inputName = null;\n    this.cultureInfo = {};\n    this.initCultureInfo();\n    this.initCultureFunc();\n    this.prevValue = this.value;\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      this.updateHTMLAttrToElement();\n      this.checkAttributes(false);\n\n      if (this.formEle) {\n        this.inputEleValue = this.value;\n      }\n    }\n\n    this.validateMinMax();\n    this.validateStep();\n\n    if (this.placeholder === null && !(isBlazor() && this.isServerRendered)) {\n      this.updatePlaceholder();\n    }\n  };\n  /**\r\n   * To Initialize the control rendering\r\n   * @private\r\n   */\n\n\n  NumericTextBox.prototype.render = function () {\n    if (this.element.tagName.toLowerCase() === 'input') {\n      if (!(isBlazor() && this.isServerRendered)) {\n        this.createWrapper();\n\n        if (this.showSpinButton) {\n          this.spinBtnCreation();\n        }\n\n        this.setElementWidth(this.width);\n\n        if (!this.container.classList.contains('e-input-group')) {\n          this.container.classList.add('e-input-group');\n        }\n\n        this.changeValue(this.value === null || isNaN(this.value) ? null : this.strictMode ? this.trimValue(this.value) : this.value);\n      } else {\n        this.container = this.element.parentElement;\n        this.inputWrapper = {\n          container: this.container\n        };\n        this.hiddenInput = this.container.querySelector('input[type=\"hidden\"]');\n\n        if (this.showClearButton) {\n          this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\n          Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\n        }\n\n        if (this.showSpinButton) {\n          this.spinDown = this.container.querySelector('.' + SPINDOWN);\n          this.spinUp = this.container.querySelector('.' + SPINUP);\n          this.wireSpinBtnEvents();\n        }\n\n        Input.bindInitialEvent({\n          element: this.element,\n          buttons: null,\n          customTag: null,\n          floatLabelType: this.floatLabelType,\n          properties: this.properties\n        });\n      }\n\n      this.wireEvents();\n\n      if (!(isBlazor() && this.isServerRendered)) {\n        if (this.value !== null && !isNaN(this.value)) {\n          if (this.decimals) {\n            this.setProperties({\n              value: this.roundNumber(this.value, this.decimals)\n            }, true);\n          }\n        }\n\n        if (this.element.getAttribute('value') || this.value) {\n          this.element.setAttribute('value', this.element.value);\n          this.hiddenInput.setAttribute('value', this.hiddenInput.value);\n        }\n      }\n\n      this.elementPrevValue = this.element.value;\n      this.renderComplete();\n    }\n  };\n\n  NumericTextBox.prototype.checkAttributes = function (isDynamic) {\n    var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) : ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\n\n    for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\n      var prop = attributes_1[_i];\n\n      if (!isNullOrUndefined(this.element.getAttribute(prop))) {\n        switch (prop) {\n          case 'disabled':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['enabled'] === undefined || isDynamic) {\n              var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? false : true;\n              this.setProperties({\n                enabled: enabled\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'readonly':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['readonly'] === undefined || isDynamic) {\n              var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === '' || this.element.getAttribute(prop) === 'true' ? true : false;\n              this.setProperties({\n                readonly: readonly\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'placeholder':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['placeholder'] === undefined || isDynamic) {\n              this.setProperties({\n                placeholder: this.element.placeholder\n              }, !isDynamic);\n            }\n\n            break;\n\n          case 'value':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['value'] === undefined || isDynamic) {\n              var setNumber = this.instance.getNumberParser({\n                format: 'n'\n              })(this.element.getAttribute(prop));\n              this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\n            }\n\n            break;\n\n          case 'min':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['min'] === undefined || isDynamic) {\n              var minValue = this.instance.getNumberParser({\n                format: 'n'\n              })(this.element.getAttribute(prop));\n\n              if (minValue !== null && !isNaN(minValue)) {\n                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'max':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['max'] === undefined || isDynamic) {\n              var maxValue = this.instance.getNumberParser({\n                format: 'n'\n              })(this.element.getAttribute(prop));\n\n              if (maxValue !== null && !isNaN(maxValue)) {\n                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'step':\n            // tslint:disable-next-line\n            if (isNullOrUndefined(this.numericOptions) || this.numericOptions['step'] === undefined || isDynamic) {\n              var stepValue = this.instance.getNumberParser({\n                format: 'n'\n              })(this.element.getAttribute(prop));\n\n              if (stepValue !== null && !isNaN(stepValue)) {\n                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\n              }\n            }\n\n            break;\n\n          case 'style':\n            this.inputStyle = this.element.getAttribute(prop);\n            break;\n\n          case 'name':\n            this.inputName = this.element.getAttribute(prop);\n            break;\n\n          default:\n            var value = this.instance.getNumberParser({\n              format: 'n'\n            })(this.element.getAttribute(prop));\n\n            if (value !== null && !isNaN(value) || prop === 'value') {\n              this.setProperties(setValue(prop, value, {}), true);\n            }\n\n            break;\n        }\n      }\n    }\n  };\n\n  NumericTextBox.prototype.updatePlaceholder = function () {\n    this.setProperties({\n      placeholder: this.l10n.getConstant('placeholder')\n    }, true);\n  };\n\n  NumericTextBox.prototype.initCultureFunc = function () {\n    this.instance = new Internationalization(this.locale);\n  };\n\n  NumericTextBox.prototype.initCultureInfo = function () {\n    this.cultureInfo.format = this.format;\n\n    if (getValue('currency', this) !== null) {\n      setValue('currency', this.currency, this.cultureInfo);\n      this.setProperties({\n        currencyCode: this.currency\n      }, true);\n    }\n  };\n  /* Wrapper creation */\n\n\n  NumericTextBox.prototype.createWrapper = function () {\n    var updatedCssClassValue = this.cssClass;\n\n    if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\n      updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\n    }\n\n    var inputObj = Input.createInput({\n      element: this.element,\n      floatLabelType: this.floatLabelType,\n      properties: {\n        readonly: this.readonly,\n        placeholder: this.placeholder,\n        cssClass: updatedCssClassValue,\n        enableRtl: this.enableRtl,\n        showClearButton: this.showClearButton,\n        enabled: this.enabled\n      }\n    }, this.createElement);\n    this.inputWrapper = inputObj;\n    this.container = inputObj.container;\n    this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\n    this.updateHTMLAttrToWrapper();\n\n    if (this.readonly) {\n      attributes(this.element, {\n        'aria-readonly': 'true'\n      });\n    }\n\n    this.hiddenInput = this.createElement('input', {\n      attrs: {\n        type: 'text',\n        'validateHidden': 'true',\n        'class': HIDDENELEMENT\n      }\n    });\n    this.inputName = this.inputName !== null ? this.inputName : this.element.id;\n    this.element.removeAttribute('name');\n    attributes(this.hiddenInput, {\n      'name': this.inputName\n    });\n    this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\n    this.updateDataAttribute(false);\n\n    if (this.inputStyle !== null) {\n      attributes(this.container, {\n        'style': this.inputStyle\n      });\n    }\n  };\n\n  NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\n    var attr = {};\n\n    if (!isDynamic) {\n      for (var a = 0; a < this.element.attributes.length; a++) {\n        attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\n      }\n    } else {\n      attr = this.htmlAttributes;\n    }\n\n    for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\n      var key = _a[_i];\n\n      if (key.indexOf('data') === 0) {\n        this.hiddenInput.setAttribute(key, attr[key]);\n      }\n    }\n  };\n\n  NumericTextBox.prototype.updateHTMLAttrToElement = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var pro = _a[_i];\n\n        if (wrapperAttributes.indexOf(pro) < 0) {\n          this.element.setAttribute(pro, this.htmlAttributes[pro]);\n        }\n      }\n    }\n  };\n\n  NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\n    Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\n  };\n\n  NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\n    var result = numericClassName;\n\n    if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\n      result = numericClassName.replace(/\\s+/g, ' ').trim();\n    }\n\n    return result;\n  };\n\n  NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\n    if (!isNullOrUndefined(this.htmlAttributes)) {\n      for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\n        var pro = _a[_i];\n\n        if (wrapperAttributes.indexOf(pro) > -1) {\n          if (pro === 'class') {\n            var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\n\n            if (updatedClassValue !== '') {\n              addClass([this.container], updatedClassValue.split(' '));\n            }\n          } else if (pro === 'style') {\n            var numericStyle = this.container.getAttribute(pro);\n            numericStyle = !isNullOrUndefined(numericStyle) ? numericStyle + this.htmlAttributes[pro] : this.htmlAttributes[pro];\n            this.container.setAttribute(pro, numericStyle);\n          } else {\n            this.container.setAttribute(pro, this.htmlAttributes[pro]);\n          }\n        }\n      }\n    }\n  };\n\n  NumericTextBox.prototype.setElementWidth = function (width) {\n    if (!isNullOrUndefined(width)) {\n      if (typeof width === 'number') {\n        this.container.style.width = formatUnit(width);\n      } else if (typeof width === 'string') {\n        this.container.style.width = width.match(/px|%|em/) ? width : formatUnit(width);\n      }\n    }\n  };\n  /* Spinner creation */\n\n\n  NumericTextBox.prototype.spinBtnCreation = function () {\n    this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\n    attributes(this.spinDown, {\n      'title': this.l10n.getConstant('decrementTitle'),\n      'aria-label': this.l10n.getConstant('decrementTitle')\n    });\n    this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\n    attributes(this.spinUp, {\n      'title': this.l10n.getConstant('incrementTitle'),\n      'aria-label': this.l10n.getConstant('incrementTitle')\n    });\n    this.wireSpinBtnEvents();\n  };\n\n  NumericTextBox.prototype.validateMinMax = function () {\n    if (!(typeof this.min === 'number' && !isNaN(this.min))) {\n      this.setProperties({\n        min: -Number.MAX_VALUE\n      }, true);\n    }\n\n    if (!(typeof this.max === 'number' && !isNaN(this.max))) {\n      this.setProperties({\n        max: Number.MAX_VALUE\n      }, true);\n    }\n\n    if (this.decimals !== null) {\n      if (this.min !== -Number.MAX_VALUE) {\n        this.setProperties({\n          min: this.instance.getNumberParser({\n            format: 'n'\n          })(this.formattedValue(this.decimals, this.min))\n        }, true);\n      }\n\n      if (this.max !== Number.MAX_VALUE) {\n        this.setProperties({\n          max: this.instance.getNumberParser({\n            format: 'n'\n          })(this.formattedValue(this.decimals, this.max))\n        }, true);\n      }\n    }\n\n    this.setProperties({\n      min: this.min > this.max ? this.max : this.min\n    }, true);\n    attributes(this.element, {\n      'aria-valuemin': this.min.toString(),\n      'aria-valuemax': this.max.toString()\n    });\n  };\n\n  NumericTextBox.prototype.formattedValue = function (decimals, value) {\n    return this.instance.getNumberFormat({\n      maximumFractionDigits: decimals,\n      minimumFractionDigits: decimals,\n      useGrouping: false\n    })(value);\n  };\n\n  NumericTextBox.prototype.validateStep = function () {\n    if (this.decimals !== null) {\n      this.setProperties({\n        step: this.instance.getNumberParser({\n          format: 'n'\n        })(this.formattedValue(this.decimals, this.step))\n      }, true);\n    }\n  };\n\n  NumericTextBox.prototype.action = function (operation, event) {\n    this.isInteract = true;\n    var value = this.isFocused ? this.instance.getNumberParser({\n      format: 'n'\n    })(this.element.value) : this.value;\n    this.changeValue(this.performAction(value, this.step, operation));\n    this.raiseChangeEvent(event);\n  };\n\n  NumericTextBox.prototype.checkErrorClass = function () {\n    if (this.isValidState) {\n      removeClass([this.container], ERROR);\n    } else {\n      addClass([this.container], ERROR);\n    }\n\n    attributes(this.element, {\n      'aria-invalid': this.isValidState ? 'false' : 'true'\n    });\n  };\n\n  NumericTextBox.prototype.bindClearEvent = function () {\n    if (this.showClearButton) {\n      EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\n    }\n  };\n\n  NumericTextBox.prototype.resetHandler = function (e) {\n    e.preventDefault();\n\n    if (!this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide')) {\n      this.clear(e);\n    }\n\n    this.isInteract = true;\n    this.raiseChangeEvent(e);\n  };\n\n  NumericTextBox.prototype.clear = function (event) {\n    this.setProperties({\n      value: null\n    }, true);\n    this.setElementValue('');\n    this.hiddenInput.value = '';\n    var formElement = closest(this.element, 'form');\n\n    if (formElement) {\n      var element = this.element.nextElementSibling;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  NumericTextBox.prototype.resetFormHandler = function () {\n    if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\n      this.updateValue(null);\n    } else {\n      this.updateValue(this.inputEleValue);\n    }\n  };\n\n  NumericTextBox.prototype.setSpinButton = function () {\n    if (!isNullOrUndefined(this.spinDown)) {\n      attributes(this.spinDown, {\n        'title': this.l10n.getConstant('decrementTitle'),\n        'aria-label': this.l10n.getConstant('decrementTitle')\n      });\n    }\n\n    if (!isNullOrUndefined(this.spinUp)) {\n      attributes(this.spinUp, {\n        'title': this.l10n.getConstant('incrementTitle'),\n        'aria-label': this.l10n.getConstant('incrementTitle')\n      });\n    }\n  };\n\n  NumericTextBox.prototype.wireEvents = function () {\n    EventHandler.add(this.element, 'focus', this.focusHandler, this);\n    EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\n    EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\n    EventHandler.add(this.element, 'input', this.inputHandler, this);\n    EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\n    EventHandler.add(this.element, 'change', this.changeHandler, this);\n    EventHandler.add(this.element, 'paste', this.pasteHandler, this);\n\n    if (this.enabled) {\n      this.bindClearEvent();\n\n      if (this.formEle) {\n        EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\n      }\n    }\n  };\n\n  NumericTextBox.prototype.wireSpinBtnEvents = function () {\n    /* bind spin button events */\n    EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n    EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\n    EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n    EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\n    EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n    EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\n  };\n\n  NumericTextBox.prototype.unwireEvents = function () {\n    EventHandler.remove(this.element, 'focus', this.focusHandler);\n    EventHandler.remove(this.element, 'blur', this.focusOutHandler);\n    EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\n    EventHandler.remove(this.element, 'input', this.inputHandler);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\n    EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\n    EventHandler.remove(this.element, 'change', this.changeHandler);\n    EventHandler.remove(this.element, 'paste', this.pasteHandler);\n\n    if (this.formEle) {\n      EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\n    }\n  };\n\n  NumericTextBox.prototype.unwireSpinBtnEvents = function () {\n    /* unbind spin button events */\n    EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\n    EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\n    EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\n    EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\n    EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n    EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\n  };\n\n  NumericTextBox.prototype.changeHandler = function (event) {\n    event.stopPropagation();\n\n    if (!this.element.value.length) {\n      this.setProperties({\n        value: null\n      }, true);\n    }\n\n    var parsedInput = this.instance.getNumberParser({\n      format: 'n'\n    })(this.element.value);\n    this.updateValue(parsedInput, event);\n  };\n\n  NumericTextBox.prototype.raiseChangeEvent = function (event) {\n    if (this.prevValue !== this.value) {\n      var eventArgs = {};\n      this.changeEventArgs = {\n        value: this.value,\n        previousValue: this.prevValue,\n        isInteracted: this.isInteract,\n        isInteraction: this.isInteract,\n        event: event\n      };\n\n      if (event) {\n        this.changeEventArgs.event = event;\n      }\n\n      if (this.changeEventArgs.event === undefined) {\n        this.changeEventArgs.isInteracted = false;\n        this.changeEventArgs.isInteraction = false;\n      }\n\n      merge(eventArgs, this.changeEventArgs);\n      this.prevValue = this.value;\n      this.isInteract = false;\n      this.elementPrevValue = this.element.value;\n      this.preventChange = false;\n      this.trigger('change', eventArgs);\n    }\n  };\n\n  NumericTextBox.prototype.pasteHandler = function () {\n    var _this = this;\n\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    var beforeUpdate = this.element.value;\n    setTimeout(function () {\n      if (!_this.numericRegex().test(_this.element.value)) {\n        _this.setElementValue(beforeUpdate);\n      }\n    });\n  };\n\n  NumericTextBox.prototype.preventHandler = function () {\n    var _this = this;\n\n    var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n    setTimeout(function () {\n      if (_this.element.selectionStart > 0) {\n        var currentPos = _this.element.selectionStart;\n        var prevPos = _this.element.selectionStart - 1;\n        var start = 0;\n        var ignoreKeyCode = void 0;\n\n        var valArray = _this.element.value.split('');\n\n        var numericObject = getNumericObject(_this.locale);\n        var decimalSeparator = getValue('decimal', numericObject);\n        ignoreKeyCode = decimalSeparator.charCodeAt(0);\n\n        if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\n          if (isNullOrUndefined(_this.prevVal)) {\n            _this.element.value = _this.element.value.trim();\n          } else if (prevPos !== 0) {\n            _this.element.value = _this.prevVal;\n          } else if (prevPos === 0) {\n            _this.element.value = _this.element.value.trim();\n          }\n\n          _this.element.setSelectionRange(prevPos, prevPos);\n        } else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\n          if (valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !== valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) && _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode || _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\n            _this.element.value = _this.element.value.substring(0, prevPos) + _this.element.value.substring(currentPos, _this.element.value.length);\n\n            _this.element.setSelectionRange(prevPos, prevPos);\n\n            if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0 && _this.element.value.length) {\n              _this.preventHandler();\n            }\n          }\n        } else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 && _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\n          if (valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !== valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) && _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode || _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\n            _this.element.setSelectionRange(prevPos, prevPos);\n\n            _this.nextEle = _this.element.value[_this.element.selectionStart];\n            _this.cursorPosChanged = true;\n\n            _this.preventHandler();\n          }\n        }\n\n        if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle && isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\n          _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\n\n          _this.cursorPosChanged = false;\n          _this.nextEle = null;\n        }\n\n        if (_this.element.value.trim() === '') {\n          _this.element.setSelectionRange(start, start);\n        }\n\n        if (_this.element.selectionStart > 0) {\n          if (_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45 && _this.element.selectionStart > 1) {\n            if (isNullOrUndefined(_this.prevVal)) {\n              _this.element.value = _this.element.value;\n            } else {\n              _this.element.value = _this.prevVal;\n            }\n\n            _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\n          }\n        }\n\n        _this.prevVal = _this.element.value;\n      }\n    });\n  };\n\n  NumericTextBox.prototype.keyUpHandler = function (event) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n\n    if (!iOS && Browser.isDevice) {\n      this.preventHandler();\n    }\n\n    var parseValue = this.instance.getNumberParser({\n      format: 'n'\n    })(this.element.value);\n    parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\n    this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\n    var formElement = closest(this.element, 'form');\n\n    if (formElement) {\n      var element = this.element.nextElementSibling;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.inputHandler = function (event) {\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n    var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\n\n    if ((fireFox || iOS) && Browser.isDevice) {\n      this.preventHandler();\n    }\n\n    if (this.isVue) {\n      var current = this.instance.getNumberParser({\n        format: 'n'\n      })(this.element.value);\n      var previous = this.instance.getNumberParser({\n        format: 'n'\n      })(this.elementPrevValue);\n      var eventArgs = {\n        event: event,\n        value: current === null || isNaN(current) ? null : current,\n        previousValue: previous === null || isNaN(previous) ? null : previous\n      };\n      this.preventChange = true;\n      this.elementPrevValue = this.element.value;\n      this.trigger('input', eventArgs);\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.keyDownHandler = function (event) {\n    if (!this.readonly) {\n      switch (event.keyCode) {\n        case 38:\n          event.preventDefault();\n          this.action(INCREMENT, event);\n          break;\n\n        case 40:\n          event.preventDefault();\n          this.action(DECREMENT, event);\n          break;\n\n        default:\n          break;\n      }\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.performAction = function (value, step, operation) {\n    if (value === null || isNaN(value)) {\n      value = 0;\n    }\n\n    var updatedValue = operation === INCREMENT ? value + step : value - step;\n    updatedValue = this.correctRounding(value, step, updatedValue);\n    return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\n  };\n\n  ;\n\n  NumericTextBox.prototype.correctRounding = function (value, step, result) {\n    var floatExp = new RegExp('[,.](.*)');\n    var valueText = value.toString();\n    var stepText = step.toString();\n    var floatValue = floatExp.test(value.toString());\n    var floatStep = floatExp.test(step.toString());\n\n    if (floatValue || floatStep) {\n      var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\n      var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\n      var max = Math.max(valueCount, stepCount);\n      return value = this.roundValue(result, max);\n    }\n\n    return result;\n  };\n\n  ;\n\n  NumericTextBox.prototype.roundValue = function (result, precision) {\n    precision = precision || 0;\n    var divide = Math.pow(10, precision);\n    return result *= divide, result = Math.round(result) / divide;\n  };\n\n  ;\n\n  NumericTextBox.prototype.updateValue = function (value, event) {\n    if (event) {\n      this.isInteract = true;\n    }\n\n    if (value !== null && !isNaN(value)) {\n      if (this.decimals) {\n        value = this.roundNumber(value, this.decimals);\n      }\n    }\n\n    this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\n\n    if (!this.isVue || this.isVue && !this.preventChange) {\n      this.raiseChangeEvent(event);\n    }\n  };\n\n  NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\n    setValue(prop, propVal, this.cultureInfo);\n    this.updateValue(this.value);\n  };\n\n  NumericTextBox.prototype.changeValue = function (value) {\n    if (!(value || value === 0)) {\n      value = null;\n      this.setProperties({\n        value: value\n      }, true);\n    } else {\n      var numberOfDecimals = void 0;\n      numberOfDecimals = this.getNumberOfDecimals(value);\n      this.setProperties({\n        value: this.roundNumber(value, numberOfDecimals)\n      }, true);\n    }\n\n    this.modifyText();\n\n    if (!this.strictMode) {\n      this.validateState();\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.modifyText = function () {\n    if (this.value || this.value === 0) {\n      var value = this.formatNumber();\n      var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\n      this.setElementValue(elementValue);\n      attributes(this.element, {\n        'aria-valuenow': value\n      });\n      this.hiddenInput.value = this.value.toString();\n\n      if (this.value !== null && this.serverDecimalSeparator) {\n        this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\n      }\n    } else {\n      this.setElementValue('');\n      this.element.removeAttribute('aria-valuenow');\n      this.hiddenInput.value = null;\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.setElementValue = function (val, element) {\n    Input.setValue(val, element ? element : this.element, this.floatLabelType, this.showClearButton);\n  };\n\n  NumericTextBox.prototype.validateState = function () {\n    this.isValidState = true;\n\n    if (this.value || this.value === 0) {\n      this.isValidState = !(this.value > this.max || this.value < this.min);\n    }\n\n    this.checkErrorClass();\n  };\n\n  NumericTextBox.prototype.getNumberOfDecimals = function (value) {\n    var numberOfDecimals;\n    var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\n    var valueString = value.toString();\n\n    if (EXPREGEXP.test(valueString)) {\n      var result = EXPREGEXP.exec(valueString);\n\n      if (!isNullOrUndefined(result)) {\n        valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\n      }\n    }\n\n    var decimalPart = valueString.split('.')[1];\n    numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\n\n    if (this.decimals !== null) {\n      numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\n    }\n\n    return numberOfDecimals;\n  };\n\n  NumericTextBox.prototype.formatNumber = function () {\n    var numberOfDecimals;\n    numberOfDecimals = this.getNumberOfDecimals(this.value);\n    return this.instance.getNumberFormat({\n      maximumFractionDigits: numberOfDecimals,\n      minimumFractionDigits: numberOfDecimals,\n      useGrouping: false\n    })(this.value);\n  };\n\n  ;\n\n  NumericTextBox.prototype.trimValue = function (value) {\n    if (value > this.max) {\n      return this.max;\n    }\n\n    if (value < this.min) {\n      return this.min;\n    }\n\n    return value;\n  };\n\n  ;\n\n  NumericTextBox.prototype.roundNumber = function (value, precision) {\n    var result = value;\n    var decimals = precision || 0;\n    var result1 = result.toString().split('e');\n    result = Math.round(Number(result1[0] + 'e' + (result1[1] ? Number(result1[1]) + decimals : decimals)));\n    var result2 = result.toString().split('e');\n    result = Number(result2[0] + 'e' + (result2[1] ? Number(result2[1]) - decimals : -decimals));\n    return Number(result.toFixed(decimals));\n  };\n\n  ;\n\n  NumericTextBox.prototype.cancelEvent = function (event) {\n    event.preventDefault();\n    return false;\n  };\n\n  NumericTextBox.prototype.keyPressHandler = function (event) {\n    if (!this.enabled || this.readonly) {\n      return true;\n    }\n\n    if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\n      var parsedInput = this.instance.getNumberParser({\n        format: 'n'\n      })(this.element.value);\n      this.updateValue(parsedInput, event);\n      return true;\n    }\n\n    if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\n      return true;\n    }\n\n    var currentChar = String.fromCharCode(event.which);\n    var text = this.element.value;\n    text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\n\n    if (!this.numericRegex().test(text)) {\n      event.preventDefault();\n      event.stopPropagation();\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.numericRegex = function () {\n    var numericObject = getNumericObject(this.locale);\n    var decimalSeparator = getValue('decimal', numericObject);\n    var fractionRule = '*';\n\n    if (decimalSeparator === DECIMALSEPARATOR) {\n      decimalSeparator = '\\\\' + decimalSeparator;\n    }\n\n    if (this.decimals === 0 && this.validateDecimalOnType) {\n      return INTREGEXP;\n    }\n\n    if (this.decimals && this.validateDecimalOnType) {\n      fractionRule = '{0,' + this.decimals + '}';\n    }\n\n    return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule + ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\n  };\n\n  ;\n\n  NumericTextBox.prototype.mouseWheel = function (event) {\n    event.preventDefault();\n    var delta;\n    var rawEvent = event;\n\n    if (rawEvent.wheelDelta) {\n      delta = rawEvent.wheelDelta / 120;\n    } else if (rawEvent.detail) {\n      delta = -rawEvent.detail / 3;\n    }\n\n    if (delta > 0) {\n      this.action(INCREMENT, event);\n    } else if (delta < 0) {\n      this.action(DECREMENT, event);\n    }\n\n    this.cancelEvent(event);\n  };\n\n  NumericTextBox.prototype.focusHandler = function (event) {\n    var _this = this;\n\n    this.focusEventArgs = {\n      event: event,\n      value: this.value,\n      container: this.container\n    };\n    this.trigger('focus', this.focusEventArgs);\n\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    this.isFocused = true;\n    removeClass([this.container], ERROR);\n    this.prevValue = this.value;\n\n    if (this.value || this.value === 0) {\n      var formatValue_1 = this.formatNumber();\n      this.setElementValue(formatValue_1);\n\n      if (!this.isPrevFocused) {\n        if (!Browser.isDevice && Browser.info.version === '11.0') {\n          this.element.setSelectionRange(0, formatValue_1.length);\n        } else {\n          var delay = Browser.isDevice && Browser.isIos ? 600 : 0;\n          setTimeout(function () {\n            _this.element.setSelectionRange(0, formatValue_1.length);\n          }, delay);\n        }\n      }\n    }\n\n    if (!Browser.isDevice) {\n      EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.focusOutHandler = function (event) {\n    var _this = this;\n\n    this.blurEventArgs = {\n      event: event,\n      value: this.value,\n      container: this.container\n    };\n    this.trigger('blur', this.blurEventArgs);\n\n    if (!this.enabled || this.readonly) {\n      return;\n    }\n\n    if (this.isPrevFocused) {\n      event.preventDefault();\n\n      if (Browser.isDevice) {\n        var value_1 = this.element.value;\n        this.element.focus();\n        this.isPrevFocused = false;\n        var ele_1 = this.element;\n        setTimeout(function () {\n          _this.setElementValue(value_1, ele_1);\n        }, 200);\n      }\n    } else {\n      this.isFocused = false;\n\n      if (!this.element.value.length) {\n        this.setProperties({\n          value: null\n        }, true);\n      }\n\n      var parsedInput = this.instance.getNumberParser({\n        format: 'n'\n      })(this.element.value);\n      this.updateValue(parsedInput);\n\n      if (!Browser.isDevice) {\n        EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\n      }\n    }\n\n    var formElement = closest(this.element, 'form');\n\n    if (formElement) {\n      var element = this.element.nextElementSibling;\n      var focusEvent = document.createEvent('FocusEvent');\n      focusEvent.initEvent('focusout', false, true);\n      element.dispatchEvent(focusEvent);\n    }\n  };\n\n  ;\n\n  NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\n    var _this = this;\n\n    if (this.isFocused) {\n      this.isPrevFocused = true;\n      event.preventDefault();\n    }\n\n    if (!this.getElementData(event)) {\n      return;\n    }\n\n    var result = this.getElementData(event);\n    var target = event.currentTarget;\n    var action = target.classList.contains(SPINUP) ? INCREMENT : DECREMENT;\n    EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\n    this.timeOut = setInterval(function () {\n      _this.isCalled = true;\n\n      _this.action(action, event);\n    }, 150);\n    EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\n  };\n\n  NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\n    var target = document.elementFromPoint(event.clientX, event.clientY);\n\n    if (!target.classList.contains(SPINICON)) {\n      clearInterval(this.timeOut);\n    }\n  };\n\n  NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\n    if (this.isPrevFocused) {\n      this.element.focus();\n\n      if (!Browser.isDevice) {\n        this.isPrevFocused = false;\n      }\n    }\n\n    if (!Browser.isDevice) {\n      event.preventDefault();\n    }\n\n    if (!this.getElementData(event)) {\n      return;\n    }\n\n    var target = event.currentTarget;\n    var action = target.classList.contains(SPINUP) ? INCREMENT : DECREMENT;\n    EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\n\n    if (!this.isCalled) {\n      this.action(action, event);\n    }\n\n    this.isCalled = false;\n    EventHandler.remove(document, 'mouseup', this.mouseUpClick);\n    var formElement = closest(this.element, 'form');\n\n    if (formElement) {\n      var element = this.element.nextElementSibling;\n      var keyupEvent = document.createEvent('KeyboardEvent');\n      keyupEvent.initEvent('keyup', false, true);\n      element.dispatchEvent(keyupEvent);\n    }\n  };\n\n  NumericTextBox.prototype.getElementData = function (event) {\n    if (event.which && event.which === 3 || event.button && event.button === 2 || !this.enabled || this.readonly) {\n      return false;\n    }\n\n    clearInterval(this.timeOut);\n    return true;\n  };\n\n  NumericTextBox.prototype.floatLabelTypeUpdate = function () {\n    Input.removeFloating(this.inputWrapper);\n    var hiddenInput = this.hiddenInput;\n    this.hiddenInput.remove();\n    Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\n    this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\n  };\n\n  NumericTextBox.prototype.mouseUpClick = function (event) {\n    event.stopPropagation();\n    clearInterval(this.timeOut);\n    this.isCalled = false;\n    EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\n    EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\n  };\n  /**\r\n   * Increments the NumericTextBox value with the specified step value.\r\n   * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\r\n   * if its not given then numeric value will be incremented based on the step property value.\r\n   */\n\n\n  NumericTextBox.prototype.increment = function (step) {\n    if (step === void 0) {\n      step = this.step;\n    }\n\n    this.isInteract = false;\n    this.changeValue(this.performAction(this.value, step, INCREMENT));\n    this.raiseChangeEvent();\n  };\n  /**\r\n   * Decrements the NumericTextBox value with specified step value.\r\n   * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\r\n   * if its not given then numeric value will be decremented based on the step property value.\r\n   */\n\n\n  NumericTextBox.prototype.decrement = function (step) {\n    if (step === void 0) {\n      step = this.step;\n    }\n\n    this.isInteract = false;\n    this.changeValue(this.performAction(this.value, step, DECREMENT));\n    this.raiseChangeEvent();\n  };\n  /**\r\n   * Removes the component from the DOM and detaches all its related event handlers.\r\n   * Also it maintains the initial input element from the DOM.\r\n   * @method destroy\r\n   * @return {void}\r\n   */\n\n\n  NumericTextBox.prototype.destroy = function () {\n    this.unwireEvents();\n\n    if (!(isBlazor() && this.isServerRendered)) {\n      detach(this.hiddenInput);\n\n      if (this.showSpinButton) {\n        this.unwireSpinBtnEvents();\n        detach(this.spinUp);\n        detach(this.spinDown);\n      }\n\n      var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly', 'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize', 'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin', 'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\n\n      for (var i = 0; i < attrArray.length; i++) {\n        this.element.removeAttribute(attrArray[i]);\n      }\n\n      this.element.classList.remove('e-input');\n      this.container.insertAdjacentElement('afterend', this.element);\n      detach(this.container);\n\n      _super.prototype.destroy.call(this);\n    }\n  };\n  /**\r\n   * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\r\n   */\n\n\n  NumericTextBox.prototype.getText = function () {\n    return this.element.value;\n  };\n  /**\r\n   * Sets the focus to widget for interaction.\r\n   * @returns void\r\n   */\n\n\n  NumericTextBox.prototype.focusIn = function () {\n    if (document.activeElement !== this.element && this.enabled) {\n      this.element.focus();\n      addClass([this.container], [NUMERIC_FOCUS]);\n    }\n  };\n  /**\r\n   * Remove the focus from widget, if the widget is in focus state.\r\n   * @returns void\r\n   */\n\n\n  NumericTextBox.prototype.focusOut = function () {\n    if (document.activeElement === this.element && this.enabled) {\n      this.element.blur();\n      removeClass([this.container], [NUMERIC_FOCUS]);\n    }\n  };\n  /**\r\n   * Gets the properties to be maintained in the persisted state.\r\n   * @return {string}\r\n   */\n\n\n  NumericTextBox.prototype.getPersistData = function () {\n    var keyEntity = ['value'];\n    return this.addOnPersist(keyEntity);\n  };\n  /**\r\n   * Calls internally if any of the property value is changed.\r\n   * @private\r\n   */\n\n\n  NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\n    var elementVal;\n\n    for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'width':\n          this.setElementWidth(newProp.width);\n          break;\n\n        case 'cssClass':\n          this.updateCssClass(newProp.cssClass, oldProp.cssClass);\n          break;\n\n        case 'enabled':\n          Input.setEnabled(newProp.enabled, this.element);\n          break;\n\n        case 'enableRtl':\n          Input.setEnableRtl(newProp.enableRtl, [this.container]);\n          break;\n\n        case 'readonly':\n          Input.setReadonly(newProp.readonly, this.element);\n\n          if (this.readonly) {\n            attributes(this.element, {\n              'aria-readonly': 'true'\n            });\n          } else {\n            this.element.removeAttribute('aria-readonly');\n          }\n\n          break;\n\n        case 'htmlAttributes':\n          this.updateHTMLAttrToElement();\n          this.updateHTMLAttrToWrapper();\n          this.updateDataAttribute(true);\n          this.checkAttributes(true);\n          break;\n\n        case 'placeholder':\n          Input.setPlaceholder(newProp.placeholder, this.element);\n          break;\n\n        case 'step':\n          this.step = newProp.step;\n          this.validateStep();\n          break;\n\n        case 'showSpinButton':\n          this.updateSpinButton(newProp);\n          break;\n\n        case 'showClearButton':\n          this.updateClearButton(newProp);\n          break;\n\n        case 'floatLabelType':\n          this.floatLabelType = newProp.floatLabelType;\n          this.floatLabelTypeUpdate();\n          break;\n\n        case 'value':\n          this.updateValue(newProp.value);\n\n          if (this.isVue && this.preventChange) {\n            this.preventChange = false;\n          }\n\n          break;\n\n        case 'min':\n        case 'max':\n          setValue(prop, getValue(prop, newProp), this);\n          this.validateMinMax();\n          this.updateValue(this.value);\n          break;\n\n        case 'strictMode':\n          this.strictMode = newProp.strictMode;\n          this.updateValue(this.value);\n          this.validateState();\n          break;\n\n        case 'locale':\n          this.initCultureFunc();\n          this.l10n.setLocale(this.locale);\n          this.setSpinButton();\n          this.updatePlaceholder();\n          Input.setPlaceholder(this.placeholder, this.element);\n          this.updateValue(this.value);\n          break;\n\n        case 'currency':\n          var propVal = getValue(prop, newProp);\n          this.setProperties({\n            currencyCode: propVal\n          }, true);\n          this.updateCurrency(prop, propVal);\n          break;\n\n        case 'currencyCode':\n          var propValue = getValue(prop, newProp);\n          this.setProperties({\n            currency: propValue\n          }, true);\n          this.updateCurrency('currency', propValue);\n          break;\n\n        case 'format':\n          setValue(prop, getValue(prop, newProp), this);\n          this.initCultureInfo();\n          this.updateValue(this.value);\n          break;\n\n        case 'decimals':\n          this.decimals = newProp.decimals;\n          this.updateValue(this.value);\n      }\n    }\n  };\n\n  NumericTextBox.prototype.updateClearButton = function (newProp) {\n    if (isBlazor()) {\n      if (this.showClearButton) {\n        this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\n        Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\n      }\n    } else {\n      Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\n      this.bindClearEvent();\n    }\n  };\n\n  NumericTextBox.prototype.updateSpinButton = function (newProp) {\n    if (isBlazor()) {\n      if (this.showSpinButton) {\n        this.spinDown = this.container.querySelector('.' + SPINDOWN);\n        this.spinUp = this.container.querySelector('.' + SPINUP);\n        this.wireSpinBtnEvents();\n      }\n    } else {\n      if (newProp.showSpinButton) {\n        this.spinBtnCreation();\n      } else {\n        detach(this.spinUp);\n        detach(this.spinDown);\n      }\n    }\n  };\n  /**\r\n   * Gets the component name\r\n   * @private\r\n   */\n\n\n  NumericTextBox.prototype.getModuleName = function () {\n    return 'numerictextbox';\n  };\n\n  __decorate([Property('')], NumericTextBox.prototype, \"cssClass\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"value\", void 0);\n\n  __decorate([Property(-Number.MAX_VALUE)], NumericTextBox.prototype, \"min\", void 0);\n\n  __decorate([Property(Number.MAX_VALUE)], NumericTextBox.prototype, \"max\", void 0);\n\n  __decorate([Property(1)], NumericTextBox.prototype, \"step\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"width\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"placeholder\", void 0);\n\n  __decorate([Property({})], NumericTextBox.prototype, \"htmlAttributes\", void 0);\n\n  __decorate([Property(true)], NumericTextBox.prototype, \"showSpinButton\", void 0);\n\n  __decorate([Property(false)], NumericTextBox.prototype, \"readonly\", void 0);\n\n  __decorate([Property(true)], NumericTextBox.prototype, \"enabled\", void 0);\n\n  __decorate([Property(false)], NumericTextBox.prototype, \"showClearButton\", void 0);\n\n  __decorate([Property(false)], NumericTextBox.prototype, \"enablePersistence\", void 0);\n\n  __decorate([Property('n2')], NumericTextBox.prototype, \"format\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"decimals\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"currency\", void 0);\n\n  __decorate([Property(null)], NumericTextBox.prototype, \"currencyCode\", void 0);\n\n  __decorate([Property(true)], NumericTextBox.prototype, \"strictMode\", void 0);\n\n  __decorate([Property(false)], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\n\n  __decorate([Property('Never')], NumericTextBox.prototype, \"floatLabelType\", void 0);\n\n  __decorate([Event()], NumericTextBox.prototype, \"created\", void 0);\n\n  __decorate([Event()], NumericTextBox.prototype, \"destroyed\", void 0);\n\n  __decorate([Event()], NumericTextBox.prototype, \"change\", void 0);\n\n  __decorate([Event()], NumericTextBox.prototype, \"focus\", void 0);\n\n  __decorate([Event()], NumericTextBox.prototype, \"blur\", void 0);\n\n  NumericTextBox = __decorate([NotifyPropertyChanges], NumericTextBox);\n  return NumericTextBox;\n}(Component);\n\nexport { NumericTextBox };","map":{"version":3,"sources":["C:/Users/Ljubica/Desktop/ISA-projekat-2019-2020/klinicki-centar-frontend/node_modules/@syncfusion/ej2-inputs/src/numerictextbox/numerictextbox.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__decorate","decorators","target","key","desc","c","arguments","length","r","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","Component","EventHandler","Property","Event","Browser","L10n","NotifyPropertyChanges","attributes","addClass","removeClass","detach","closest","isNullOrUndefined","getValue","formatUnit","setValue","merge","Internationalization","getNumericObject","isBlazor","Input","ROOT","SPINICON","SPINUP","SPINDOWN","ERROR","INCREMENT","DECREMENT","INTREGEXP","RegExp","DECIMALSEPARATOR","COMPONENT","CONTROL","NUMERIC_FOCUS","HIDDENELEMENT","wrapperAttributes","NumericTextBox","_super","options","element","_this","call","isVue","preventChange","numericOptions","preRender","isPrevFocused","decimalSeparator","intRegExp","isCalled","ejInstance","cloneElement","cloneNode","angularTagName","formEle","tagName","input","createElement","index","attributeName","nodeName","setAttribute","nodeValue","innerHTML","hasAttribute","removeAttribute","classList","remove","appendChild","isServerRendered","localeText","incrementTitle","decrementTitle","placeholder","l10n","locale","getConstant","setProperties","isValidState","inputStyle","inputName","cultureInfo","initCultureInfo","initCultureFunc","prevValue","value","updateHTMLAttrToElement","checkAttributes","inputEleValue","validateMinMax","validateStep","updatePlaceholder","render","toLowerCase","createWrapper","showSpinButton","spinBtnCreation","setElementWidth","width","container","contains","add","changeValue","isNaN","strictMode","trimValue","parentElement","inputWrapper","hiddenInput","querySelector","showClearButton","clearButton","wireClearBtnEvents","spinDown","spinUp","wireSpinBtnEvents","bindInitialEvent","buttons","customTag","floatLabelType","properties","wireEvents","decimals","roundNumber","getAttribute","elementPrevValue","renderComplete","isDynamic","htmlAttributes","keys","_i","attributes_1","prop","undefined","enabled","readonly","setNumber","instance","getNumberParser","format","minValue","maxValue","stepValue","currency","currencyCode","updatedCssClassValue","cssClass","getNumericValidClassList","inputObj","createInput","enableRtl","updateHTMLAttrToWrapper","attrs","type","id","insertBefore","childNodes","updateDataAttribute","attr","a","name","_a","indexOf","pro","updateCssClass","newClass","oldClass","setCssClass","numericClassName","result","replace","trim","updatedClassValue","split","numericStyle","style","match","appendSpan","min","Number","MAX_VALUE","max","formattedValue","toString","getNumberFormat","maximumFractionDigits","minimumFractionDigits","useGrouping","step","action","operation","event","isInteract","isFocused","performAction","raiseChangeEvent","checkErrorClass","bindClearEvent","resetHandler","e","preventDefault","clear","setElementValue","formElement","nextElementSibling","keyupEvent","document","createEvent","initEvent","dispatchEvent","resetFormHandler","updateValue","setSpinButton","focusHandler","focusOutHandler","keyDownHandler","keyUpHandler","inputHandler","keyPressHandler","changeHandler","pasteHandler","touchStartEvent","mouseDownOnSpinner","touchEndEvent","mouseUpOnSpinner","touchMoveEvent","touchMoveOnSpinner","unwireEvents","unwireSpinBtnEvents","stopPropagation","parsedInput","eventArgs","changeEventArgs","previousValue","isInteracted","isInteraction","trigger","beforeUpdate","setTimeout","numericRegex","test","preventHandler","iOS","navigator","platform","selectionStart","currentPos","prevPos","start","ignoreKeyCode","valArray","numericObject","charCodeAt","prevVal","setSelectionRange","parseFloat","lastIndexOf","substring","nextEle","cursorPosChanged","isDevice","parseValue","fireFox","userAgent","current","previous","keyCode","updatedValue","correctRounding","floatExp","valueText","stepText","floatValue","floatStep","valueCount","exec","stepCount","Math","roundValue","precision","divide","pow","round","updateCurrency","propVal","numberOfDecimals","getNumberOfDecimals","modifyText","validateState","formatNumber","elementValue","serverDecimalSeparator","val","EXPREGEXP","valueString","toFixed","parseInt","decimalPart","result1","result2","cancelEvent","info","version","which","metaKey","ctrlKey","currentChar","String","fromCharCode","text","selectionEnd","fractionRule","validateDecimalOnType","mouseWheel","delta","rawEvent","wheelDelta","detail","focusEventArgs","formatValue_1","delay","isIos","blurEventArgs","value_1","focus","ele_1","focusEvent","getElementData","currentTarget","mouseUpClick","timeOut","setInterval","elementFromPoint","clientX","clientY","clearInterval","button","floatLabelTypeUpdate","removeFloating","addFloating","increment","decrement","destroy","attrArray","insertAdjacentElement","getText","focusIn","activeElement","focusOut","blur","getPersistData","keyEntity","addOnPersist","onPropertyChanged","newProp","oldProp","elementVal","setEnabled","setEnableRtl","setReadonly","setPlaceholder","updateSpinButton","updateClearButton","setLocale","propValue","setClearButton","getModuleName"],"mappings":"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","sourcesContent":["var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\nimport { Component, EventHandler, Property, Event, Browser, L10n } from '@syncfusion/ej2-base';\r\nimport { NotifyPropertyChanges } from '@syncfusion/ej2-base';\r\nimport { attributes, addClass, removeClass, detach, closest } from '@syncfusion/ej2-base';\r\nimport { isNullOrUndefined, getValue, formatUnit, setValue, merge } from '@syncfusion/ej2-base';\r\nimport { Internationalization, getNumericObject, isBlazor } from '@syncfusion/ej2-base';\r\nimport { Input } from '../input/input';\r\nvar ROOT = 'e-control-wrapper e-numeric';\r\nvar SPINICON = 'e-input-group-icon';\r\nvar SPINUP = 'e-spin-up';\r\nvar SPINDOWN = 'e-spin-down';\r\nvar ERROR = 'e-error';\r\nvar INCREMENT = 'increment';\r\nvar DECREMENT = 'decrement';\r\nvar INTREGEXP = new RegExp('^(-)?(\\\\d*)$');\r\nvar DECIMALSEPARATOR = '.';\r\nvar COMPONENT = 'e-numerictextbox';\r\nvar CONTROL = 'e-control';\r\nvar NUMERIC_FOCUS = 'e-input-focus';\r\nvar HIDDENELEMENT = 'e-numeric-hidden';\r\nvar wrapperAttributes = ['title', 'style', 'class'];\r\n/**\r\n * Represents the NumericTextBox component that allows the user to enter only numeric values.\r\n * ```html\r\n * <input type='text' id=\"numeric\"/>\r\n * ```\r\n * ```typescript\r\n * <script>\r\n *   var numericObj = new NumericTextBox({ value: 10 });\r\n *   numericObj.appendTo(\"#numeric\");\r\n * </script>\r\n * ```\r\n */\r\nvar NumericTextBox = /** @class */ (function (_super) {\r\n    __extends(NumericTextBox, _super);\r\n    function NumericTextBox(options, element) {\r\n        var _this = _super.call(this, options, element) || this;\r\n        _this.isVue = false;\r\n        _this.preventChange = false;\r\n        _this.numericOptions = options;\r\n        return _this;\r\n    }\r\n    NumericTextBox.prototype.preRender = function () {\r\n        this.isPrevFocused = false;\r\n        this.decimalSeparator = '.';\r\n        this.intRegExp = new RegExp('/^(-)?(\\d*)$/');\r\n        this.isCalled = false;\r\n        var ejInstance = getValue('ej2_instances', this.element);\r\n        this.cloneElement = this.element.cloneNode(true);\r\n        removeClass([this.cloneElement], [CONTROL, COMPONENT, 'e-lib']);\r\n        this.angularTagName = null;\r\n        this.formEle = closest(this.element, 'form');\r\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\r\n            this.angularTagName = this.element.tagName;\r\n            var input = this.createElement('input');\r\n            var index = 0;\r\n            for (index; index < this.element.attributes.length; index++) {\r\n                var attributeName = this.element.attributes[index].nodeName;\r\n                if (attributeName !== 'id') {\r\n                    input.setAttribute(this.element.attributes[index].nodeName, this.element.attributes[index].nodeValue);\r\n                    input.innerHTML = this.element.innerHTML;\r\n                }\r\n            }\r\n            if (this.element.hasAttribute('name')) {\r\n                this.element.removeAttribute('name');\r\n            }\r\n            this.element.classList.remove('e-control', 'e-numerictextbox');\r\n            this.element.appendChild(input);\r\n            this.element = input;\r\n            setValue('ej2_instances', ejInstance, this.element);\r\n        }\r\n        if (!(isBlazor() && this.isServerRendered)) {\r\n            attributes(this.element, { 'role': 'spinbutton', 'tabindex': '0', 'autocomplete': 'off', 'aria-live': 'assertive' });\r\n            var localeText = {\r\n                incrementTitle: 'Increment value', decrementTitle: 'Decrement value', placeholder: this.placeholder\r\n            };\r\n            this.l10n = new L10n('numerictextbox', localeText, this.locale);\r\n            if (this.l10n.getConstant('placeholder') !== '') {\r\n                this.setProperties({ placeholder: this.placeholder || this.l10n.getConstant('placeholder') }, true);\r\n            }\r\n        }\r\n        this.isValidState = true;\r\n        this.inputStyle = null;\r\n        this.inputName = null;\r\n        this.cultureInfo = {};\r\n        this.initCultureInfo();\r\n        this.initCultureFunc();\r\n        this.prevValue = this.value;\r\n        if (!(isBlazor() && this.isServerRendered)) {\r\n            this.updateHTMLAttrToElement();\r\n            this.checkAttributes(false);\r\n            if (this.formEle) {\r\n                this.inputEleValue = this.value;\r\n            }\r\n        }\r\n        this.validateMinMax();\r\n        this.validateStep();\r\n        if (this.placeholder === null && !(isBlazor() && this.isServerRendered)) {\r\n            this.updatePlaceholder();\r\n        }\r\n    };\r\n    /**\r\n     * To Initialize the control rendering\r\n     * @private\r\n     */\r\n    NumericTextBox.prototype.render = function () {\r\n        if (this.element.tagName.toLowerCase() === 'input') {\r\n            if (!(isBlazor() && this.isServerRendered)) {\r\n                this.createWrapper();\r\n                if (this.showSpinButton) {\r\n                    this.spinBtnCreation();\r\n                }\r\n                this.setElementWidth(this.width);\r\n                if (!this.container.classList.contains('e-input-group')) {\r\n                    this.container.classList.add('e-input-group');\r\n                }\r\n                this.changeValue(this.value === null || isNaN(this.value) ?\r\n                    null : this.strictMode ? this.trimValue(this.value) : this.value);\r\n            }\r\n            else {\r\n                this.container = this.element.parentElement;\r\n                this.inputWrapper = { container: this.container };\r\n                this.hiddenInput = this.container.querySelector('input[type=\"hidden\"]');\r\n                if (this.showClearButton) {\r\n                    this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\r\n                    Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\r\n                }\r\n                if (this.showSpinButton) {\r\n                    this.spinDown = this.container.querySelector('.' + SPINDOWN);\r\n                    this.spinUp = this.container.querySelector('.' + SPINUP);\r\n                    this.wireSpinBtnEvents();\r\n                }\r\n                Input.bindInitialEvent({\r\n                    element: this.element, buttons: null, customTag: null, floatLabelType: this.floatLabelType, properties: this.properties\r\n                });\r\n            }\r\n            this.wireEvents();\r\n            if (!(isBlazor() && this.isServerRendered)) {\r\n                if (this.value !== null && !isNaN(this.value)) {\r\n                    if (this.decimals) {\r\n                        this.setProperties({ value: this.roundNumber(this.value, this.decimals) }, true);\r\n                    }\r\n                }\r\n                if (this.element.getAttribute('value') || this.value) {\r\n                    this.element.setAttribute('value', this.element.value);\r\n                    this.hiddenInput.setAttribute('value', this.hiddenInput.value);\r\n                }\r\n            }\r\n            this.elementPrevValue = this.element.value;\r\n            this.renderComplete();\r\n        }\r\n    };\r\n    NumericTextBox.prototype.checkAttributes = function (isDynamic) {\r\n        var attributes = isDynamic ? isNullOrUndefined(this.htmlAttributes) ? [] : Object.keys(this.htmlAttributes) :\r\n            ['value', 'min', 'max', 'step', 'disabled', 'readonly', 'style', 'name', 'placeholder'];\r\n        for (var _i = 0, attributes_1 = attributes; _i < attributes_1.length; _i++) {\r\n            var prop = attributes_1[_i];\r\n            if (!isNullOrUndefined(this.element.getAttribute(prop))) {\r\n                switch (prop) {\r\n                    case 'disabled':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['enabled'] === undefined)) || isDynamic) {\r\n                            var enabled = this.element.getAttribute(prop) === 'disabled' || this.element.getAttribute(prop) === ''\r\n                                || this.element.getAttribute(prop) === 'true' ? false : true;\r\n                            this.setProperties({ enabled: enabled }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'readonly':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['readonly'] === undefined)) || isDynamic) {\r\n                            var readonly = this.element.getAttribute(prop) === 'readonly' || this.element.getAttribute(prop) === ''\r\n                                || this.element.getAttribute(prop) === 'true' ? true : false;\r\n                            this.setProperties({ readonly: readonly }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'placeholder':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['placeholder'] === undefined)) || isDynamic) {\r\n                            this.setProperties({ placeholder: this.element.placeholder }, !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'value':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['value'] === undefined)) || isDynamic) {\r\n                            var setNumber = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\r\n                            this.setProperties(setValue(prop, setNumber, {}), !isDynamic);\r\n                        }\r\n                        break;\r\n                    case 'min':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['min'] === undefined)) || isDynamic) {\r\n                            var minValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\r\n                            if (minValue !== null && !isNaN(minValue)) {\r\n                                this.setProperties(setValue(prop, minValue, {}), !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'max':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['max'] === undefined)) || isDynamic) {\r\n                            var maxValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\r\n                            if (maxValue !== null && !isNaN(maxValue)) {\r\n                                this.setProperties(setValue(prop, maxValue, {}), !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'step':\r\n                        // tslint:disable-next-line\r\n                        if ((isNullOrUndefined(this.numericOptions) || (this.numericOptions['step'] === undefined)) || isDynamic) {\r\n                            var stepValue = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\r\n                            if (stepValue !== null && !isNaN(stepValue)) {\r\n                                this.setProperties(setValue(prop, stepValue, {}), !isDynamic);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case 'style':\r\n                        this.inputStyle = this.element.getAttribute(prop);\r\n                        break;\r\n                    case 'name':\r\n                        this.inputName = this.element.getAttribute(prop);\r\n                        break;\r\n                    default:\r\n                        var value = this.instance.getNumberParser({ format: 'n' })(this.element.getAttribute(prop));\r\n                        if ((value !== null && !isNaN(value)) || (prop === 'value')) {\r\n                            this.setProperties(setValue(prop, value, {}), true);\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updatePlaceholder = function () {\r\n        this.setProperties({ placeholder: this.l10n.getConstant('placeholder') }, true);\r\n    };\r\n    NumericTextBox.prototype.initCultureFunc = function () {\r\n        this.instance = new Internationalization(this.locale);\r\n    };\r\n    NumericTextBox.prototype.initCultureInfo = function () {\r\n        this.cultureInfo.format = this.format;\r\n        if (getValue('currency', this) !== null) {\r\n            setValue('currency', this.currency, this.cultureInfo);\r\n            this.setProperties({ currencyCode: this.currency }, true);\r\n        }\r\n    };\r\n    /* Wrapper creation */\r\n    NumericTextBox.prototype.createWrapper = function () {\r\n        var updatedCssClassValue = this.cssClass;\r\n        if (!isNullOrUndefined(this.cssClass) && this.cssClass !== '') {\r\n            updatedCssClassValue = this.getNumericValidClassList(this.cssClass);\r\n        }\r\n        var inputObj = Input.createInput({\r\n            element: this.element,\r\n            floatLabelType: this.floatLabelType,\r\n            properties: {\r\n                readonly: this.readonly,\r\n                placeholder: this.placeholder,\r\n                cssClass: updatedCssClassValue,\r\n                enableRtl: this.enableRtl,\r\n                showClearButton: this.showClearButton,\r\n                enabled: this.enabled\r\n            }\r\n        }, this.createElement);\r\n        this.inputWrapper = inputObj;\r\n        this.container = inputObj.container;\r\n        this.container.setAttribute('class', ROOT + ' ' + this.container.getAttribute('class'));\r\n        this.updateHTMLAttrToWrapper();\r\n        if (this.readonly) {\r\n            attributes(this.element, { 'aria-readonly': 'true' });\r\n        }\r\n        this.hiddenInput = (this.createElement('input', { attrs: { type: 'text',\r\n                'validateHidden': 'true', 'class': HIDDENELEMENT } }));\r\n        this.inputName = this.inputName !== null ? this.inputName : this.element.id;\r\n        this.element.removeAttribute('name');\r\n        attributes(this.hiddenInput, { 'name': this.inputName });\r\n        this.container.insertBefore(this.hiddenInput, this.container.childNodes[1]);\r\n        this.updateDataAttribute(false);\r\n        if (this.inputStyle !== null) {\r\n            attributes(this.container, { 'style': this.inputStyle });\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateDataAttribute = function (isDynamic) {\r\n        var attr = {};\r\n        if (!isDynamic) {\r\n            for (var a = 0; a < this.element.attributes.length; a++) {\r\n                attr[this.element.attributes[a].name] = this.element.getAttribute(this.element.attributes[a].name);\r\n            }\r\n        }\r\n        else {\r\n            attr = this.htmlAttributes;\r\n        }\r\n        for (var _i = 0, _a = Object.keys(attr); _i < _a.length; _i++) {\r\n            var key = _a[_i];\r\n            if (key.indexOf('data') === 0) {\r\n                this.hiddenInput.setAttribute(key, attr[key]);\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateHTMLAttrToElement = function () {\r\n        if (!isNullOrUndefined(this.htmlAttributes)) {\r\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\r\n                var pro = _a[_i];\r\n                if (wrapperAttributes.indexOf(pro) < 0) {\r\n                    this.element.setAttribute(pro, this.htmlAttributes[pro]);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateCssClass = function (newClass, oldClass) {\r\n        Input.setCssClass(this.getNumericValidClassList(newClass), [this.container], this.getNumericValidClassList(oldClass));\r\n    };\r\n    NumericTextBox.prototype.getNumericValidClassList = function (numericClassName) {\r\n        var result = numericClassName;\r\n        if (!isNullOrUndefined(numericClassName) && numericClassName !== '') {\r\n            result = (numericClassName.replace(/\\s+/g, ' ')).trim();\r\n        }\r\n        return result;\r\n    };\r\n    NumericTextBox.prototype.updateHTMLAttrToWrapper = function () {\r\n        if (!isNullOrUndefined(this.htmlAttributes)) {\r\n            for (var _i = 0, _a = Object.keys(this.htmlAttributes); _i < _a.length; _i++) {\r\n                var pro = _a[_i];\r\n                if (wrapperAttributes.indexOf(pro) > -1) {\r\n                    if (pro === 'class') {\r\n                        var updatedClassValue = this.getNumericValidClassList(this.htmlAttributes[pro]);\r\n                        if (updatedClassValue !== '') {\r\n                            addClass([this.container], updatedClassValue.split(' '));\r\n                        }\r\n                    }\r\n                    else if (pro === 'style') {\r\n                        var numericStyle = this.container.getAttribute(pro);\r\n                        numericStyle = !isNullOrUndefined(numericStyle) ? (numericStyle + this.htmlAttributes[pro]) :\r\n                            this.htmlAttributes[pro];\r\n                        this.container.setAttribute(pro, numericStyle);\r\n                    }\r\n                    else {\r\n                        this.container.setAttribute(pro, this.htmlAttributes[pro]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.setElementWidth = function (width) {\r\n        if (!isNullOrUndefined(width)) {\r\n            if (typeof width === 'number') {\r\n                this.container.style.width = formatUnit(width);\r\n            }\r\n            else if (typeof width === 'string') {\r\n                this.container.style.width = (width.match(/px|%|em/)) ? (width) : (formatUnit(width));\r\n            }\r\n        }\r\n    };\r\n    /* Spinner creation */\r\n    NumericTextBox.prototype.spinBtnCreation = function () {\r\n        this.spinDown = Input.appendSpan(SPINICON + ' ' + SPINDOWN, this.container, this.createElement);\r\n        attributes(this.spinDown, {\r\n            'title': this.l10n.getConstant('decrementTitle'),\r\n            'aria-label': this.l10n.getConstant('decrementTitle')\r\n        });\r\n        this.spinUp = Input.appendSpan(SPINICON + ' ' + SPINUP, this.container, this.createElement);\r\n        attributes(this.spinUp, {\r\n            'title': this.l10n.getConstant('incrementTitle'),\r\n            'aria-label': this.l10n.getConstant('incrementTitle')\r\n        });\r\n        this.wireSpinBtnEvents();\r\n    };\r\n    NumericTextBox.prototype.validateMinMax = function () {\r\n        if (!(typeof (this.min) === 'number' && !isNaN(this.min))) {\r\n            this.setProperties({ min: -(Number.MAX_VALUE) }, true);\r\n        }\r\n        if (!(typeof (this.max) === 'number' && !isNaN(this.max))) {\r\n            this.setProperties({ max: Number.MAX_VALUE }, true);\r\n        }\r\n        if (this.decimals !== null) {\r\n            if (this.min !== -(Number.MAX_VALUE)) {\r\n                this.setProperties({ min: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.min)) }, true);\r\n            }\r\n            if (this.max !== (Number.MAX_VALUE)) {\r\n                this.setProperties({ max: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.max)) }, true);\r\n            }\r\n        }\r\n        this.setProperties({ min: this.min > this.max ? this.max : this.min }, true);\r\n        attributes(this.element, { 'aria-valuemin': this.min.toString(), 'aria-valuemax': this.max.toString() });\r\n    };\r\n    NumericTextBox.prototype.formattedValue = function (decimals, value) {\r\n        return this.instance.getNumberFormat({\r\n            maximumFractionDigits: decimals,\r\n            minimumFractionDigits: decimals, useGrouping: false\r\n        })(value);\r\n    };\r\n    NumericTextBox.prototype.validateStep = function () {\r\n        if (this.decimals !== null) {\r\n            this.setProperties({ step: this.instance.getNumberParser({ format: 'n' })(this.formattedValue(this.decimals, this.step)) }, true);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.action = function (operation, event) {\r\n        this.isInteract = true;\r\n        var value = this.isFocused ? this.instance.getNumberParser({ format: 'n' })(this.element.value) : this.value;\r\n        this.changeValue(this.performAction(value, this.step, operation));\r\n        this.raiseChangeEvent(event);\r\n    };\r\n    NumericTextBox.prototype.checkErrorClass = function () {\r\n        if (this.isValidState) {\r\n            removeClass([this.container], ERROR);\r\n        }\r\n        else {\r\n            addClass([this.container], ERROR);\r\n        }\r\n        attributes(this.element, { 'aria-invalid': this.isValidState ? 'false' : 'true' });\r\n    };\r\n    NumericTextBox.prototype.bindClearEvent = function () {\r\n        if (this.showClearButton) {\r\n            EventHandler.add(this.inputWrapper.clearButton, 'mousedown touchstart', this.resetHandler, this);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.resetHandler = function (e) {\r\n        e.preventDefault();\r\n        if (!(this.inputWrapper.clearButton.classList.contains('e-clear-icon-hide'))) {\r\n            this.clear(e);\r\n        }\r\n        this.isInteract = true;\r\n        this.raiseChangeEvent(e);\r\n    };\r\n    NumericTextBox.prototype.clear = function (event) {\r\n        this.setProperties({ value: null }, true);\r\n        this.setElementValue('');\r\n        this.hiddenInput.value = '';\r\n        var formElement = closest(this.element, 'form');\r\n        if (formElement) {\r\n            var element = this.element.nextElementSibling;\r\n            var keyupEvent = document.createEvent('KeyboardEvent');\r\n            keyupEvent.initEvent('keyup', false, true);\r\n            element.dispatchEvent(keyupEvent);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.resetFormHandler = function () {\r\n        if (this.element.tagName === 'EJS-NUMERICTEXTBOX') {\r\n            this.updateValue(null);\r\n        }\r\n        else {\r\n            this.updateValue(this.inputEleValue);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.setSpinButton = function () {\r\n        if (!isNullOrUndefined(this.spinDown)) {\r\n            attributes(this.spinDown, {\r\n                'title': this.l10n.getConstant('decrementTitle'),\r\n                'aria-label': this.l10n.getConstant('decrementTitle')\r\n            });\r\n        }\r\n        if (!isNullOrUndefined(this.spinUp)) {\r\n            attributes(this.spinUp, {\r\n                'title': this.l10n.getConstant('incrementTitle'),\r\n                'aria-label': this.l10n.getConstant('incrementTitle')\r\n            });\r\n        }\r\n    };\r\n    NumericTextBox.prototype.wireEvents = function () {\r\n        EventHandler.add(this.element, 'focus', this.focusHandler, this);\r\n        EventHandler.add(this.element, 'blur', this.focusOutHandler, this);\r\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler, this);\r\n        EventHandler.add(this.element, 'keyup', this.keyUpHandler, this);\r\n        EventHandler.add(this.element, 'input', this.inputHandler, this);\r\n        EventHandler.add(this.element, 'keypress', this.keyPressHandler, this);\r\n        EventHandler.add(this.element, 'change', this.changeHandler, this);\r\n        EventHandler.add(this.element, 'paste', this.pasteHandler, this);\r\n        if (this.enabled) {\r\n            this.bindClearEvent();\r\n            if (this.formEle) {\r\n                EventHandler.add(this.formEle, 'reset', this.resetFormHandler, this);\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.wireSpinBtnEvents = function () {\r\n        /* bind spin button events */\r\n        EventHandler.add(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\r\n        EventHandler.add(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner, this);\r\n        EventHandler.add(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\r\n        EventHandler.add(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner, this);\r\n        EventHandler.add(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\r\n        EventHandler.add(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner, this);\r\n    };\r\n    NumericTextBox.prototype.unwireEvents = function () {\r\n        EventHandler.remove(this.element, 'focus', this.focusHandler);\r\n        EventHandler.remove(this.element, 'blur', this.focusOutHandler);\r\n        EventHandler.remove(this.element, 'keyup', this.keyUpHandler);\r\n        EventHandler.remove(this.element, 'input', this.inputHandler);\r\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler);\r\n        EventHandler.remove(this.element, 'keypress', this.keyPressHandler);\r\n        EventHandler.remove(this.element, 'change', this.changeHandler);\r\n        EventHandler.remove(this.element, 'paste', this.pasteHandler);\r\n        if (this.formEle) {\r\n            EventHandler.remove(this.formEle, 'reset', this.resetFormHandler);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.unwireSpinBtnEvents = function () {\r\n        /* unbind spin button events */\r\n        EventHandler.remove(this.spinUp, Browser.touchStartEvent, this.mouseDownOnSpinner);\r\n        EventHandler.remove(this.spinDown, Browser.touchStartEvent, this.mouseDownOnSpinner);\r\n        EventHandler.remove(this.spinUp, Browser.touchEndEvent, this.mouseUpOnSpinner);\r\n        EventHandler.remove(this.spinDown, Browser.touchEndEvent, this.mouseUpOnSpinner);\r\n        EventHandler.remove(this.spinUp, Browser.touchMoveEvent, this.touchMoveOnSpinner);\r\n        EventHandler.remove(this.spinDown, Browser.touchMoveEvent, this.touchMoveOnSpinner);\r\n    };\r\n    NumericTextBox.prototype.changeHandler = function (event) {\r\n        event.stopPropagation();\r\n        if (!this.element.value.length) {\r\n            this.setProperties({ value: null }, true);\r\n        }\r\n        var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\r\n        this.updateValue(parsedInput, event);\r\n    };\r\n    NumericTextBox.prototype.raiseChangeEvent = function (event) {\r\n        if (this.prevValue !== this.value) {\r\n            var eventArgs = {};\r\n            this.changeEventArgs = { value: this.value, previousValue: this.prevValue, isInteracted: this.isInteract,\r\n                isInteraction: this.isInteract, event: event };\r\n            if (event) {\r\n                this.changeEventArgs.event = event;\r\n            }\r\n            if (this.changeEventArgs.event === undefined) {\r\n                this.changeEventArgs.isInteracted = false;\r\n                this.changeEventArgs.isInteraction = false;\r\n            }\r\n            merge(eventArgs, this.changeEventArgs);\r\n            this.prevValue = this.value;\r\n            this.isInteract = false;\r\n            this.elementPrevValue = this.element.value;\r\n            this.preventChange = false;\r\n            this.trigger('change', eventArgs);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.pasteHandler = function () {\r\n        var _this = this;\r\n        if (!this.enabled || this.readonly) {\r\n            return;\r\n        }\r\n        var beforeUpdate = this.element.value;\r\n        setTimeout(function () {\r\n            if (!_this.numericRegex().test(_this.element.value)) {\r\n                _this.setElementValue(beforeUpdate);\r\n            }\r\n        });\r\n    };\r\n    NumericTextBox.prototype.preventHandler = function () {\r\n        var _this = this;\r\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\r\n        setTimeout(function () {\r\n            if (_this.element.selectionStart > 0) {\r\n                var currentPos = _this.element.selectionStart;\r\n                var prevPos = _this.element.selectionStart - 1;\r\n                var start = 0;\r\n                var ignoreKeyCode = void 0;\r\n                var valArray = _this.element.value.split('');\r\n                var numericObject = getNumericObject(_this.locale);\r\n                var decimalSeparator = getValue('decimal', numericObject);\r\n                ignoreKeyCode = decimalSeparator.charCodeAt(0);\r\n                if (_this.element.value[prevPos] === ' ' && _this.element.selectionStart > 0 && !iOS) {\r\n                    if (isNullOrUndefined(_this.prevVal)) {\r\n                        _this.element.value = _this.element.value.trim();\r\n                    }\r\n                    else if (prevPos !== 0) {\r\n                        _this.element.value = _this.prevVal;\r\n                    }\r\n                    else if (prevPos === 0) {\r\n                        _this.element.value = _this.element.value.trim();\r\n                    }\r\n                    _this.element.setSelectionRange(prevPos, prevPos);\r\n                }\r\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) &&\r\n                    _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== 45) {\r\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 1]) !==\r\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 1]) &&\r\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === ignoreKeyCode) ||\r\n                        _this.element.value[_this.element.selectionStart - 1].charCodeAt(0) !== ignoreKeyCode) {\r\n                        _this.element.value = _this.element.value.substring(0, prevPos) +\r\n                            _this.element.value.substring(currentPos, _this.element.value.length);\r\n                        _this.element.setSelectionRange(prevPos, prevPos);\r\n                        if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1])) && _this.element.selectionStart > 0\r\n                            && _this.element.value.length) {\r\n                            _this.preventHandler();\r\n                        }\r\n                    }\r\n                }\r\n                else if (isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 2])) && _this.element.selectionStart > 1 &&\r\n                    _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== 45) {\r\n                    if ((valArray.indexOf(_this.element.value[_this.element.selectionStart - 2]) !==\r\n                        valArray.lastIndexOf(_this.element.value[_this.element.selectionStart - 2]) &&\r\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) === ignoreKeyCode) ||\r\n                        _this.element.value[_this.element.selectionStart - 2].charCodeAt(0) !== ignoreKeyCode) {\r\n                        _this.element.setSelectionRange(prevPos, prevPos);\r\n                        _this.nextEle = _this.element.value[_this.element.selectionStart];\r\n                        _this.cursorPosChanged = true;\r\n                        _this.preventHandler();\r\n                    }\r\n                }\r\n                if (_this.cursorPosChanged === true && _this.element.value[_this.element.selectionStart] === _this.nextEle &&\r\n                    isNaN(parseFloat(_this.element.value[_this.element.selectionStart - 1]))) {\r\n                    _this.element.setSelectionRange(_this.element.selectionStart + 1, _this.element.selectionStart + 1);\r\n                    _this.cursorPosChanged = false;\r\n                    _this.nextEle = null;\r\n                }\r\n                if (_this.element.value.trim() === '') {\r\n                    _this.element.setSelectionRange(start, start);\r\n                }\r\n                if (_this.element.selectionStart > 0) {\r\n                    if ((_this.element.value[_this.element.selectionStart - 1].charCodeAt(0) === 45) && _this.element.selectionStart > 1) {\r\n                        if (isNullOrUndefined(_this.prevVal)) {\r\n                            _this.element.value = _this.element.value;\r\n                        }\r\n                        else {\r\n                            _this.element.value = _this.prevVal;\r\n                        }\r\n                        _this.element.setSelectionRange(_this.element.selectionStart, _this.element.selectionStart);\r\n                    }\r\n                }\r\n                _this.prevVal = _this.element.value;\r\n            }\r\n        });\r\n    };\r\n    NumericTextBox.prototype.keyUpHandler = function (event) {\r\n        if (!this.enabled || this.readonly) {\r\n            return;\r\n        }\r\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\r\n        if (!iOS && Browser.isDevice) {\r\n            this.preventHandler();\r\n        }\r\n        var parseValue = this.instance.getNumberParser({ format: 'n' })(this.element.value);\r\n        parseValue = parseValue === null || isNaN(parseValue) ? null : parseValue;\r\n        this.hiddenInput.value = parseValue || parseValue === 0 ? parseValue.toString() : null;\r\n        var formElement = closest(this.element, 'form');\r\n        if (formElement) {\r\n            var element = this.element.nextElementSibling;\r\n            var keyupEvent = document.createEvent('KeyboardEvent');\r\n            keyupEvent.initEvent('keyup', false, true);\r\n            element.dispatchEvent(keyupEvent);\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.inputHandler = function (event) {\r\n        if (!this.enabled || this.readonly) {\r\n            return;\r\n        }\r\n        var iOS = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\r\n        var fireFox = navigator.userAgent.toLowerCase().indexOf('firefox') > -1;\r\n        if ((fireFox || iOS) && Browser.isDevice) {\r\n            this.preventHandler();\r\n        }\r\n        if (this.isVue) {\r\n            var current = this.instance.getNumberParser({ format: 'n' })(this.element.value);\r\n            var previous = this.instance.getNumberParser({ format: 'n' })(this.elementPrevValue);\r\n            var eventArgs = {\r\n                event: event,\r\n                value: (current === null || isNaN(current) ? null : current),\r\n                previousValue: (previous === null || isNaN(previous) ? null : previous)\r\n            };\r\n            this.preventChange = true;\r\n            this.elementPrevValue = this.element.value;\r\n            this.trigger('input', eventArgs);\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.keyDownHandler = function (event) {\r\n        if (!this.readonly) {\r\n            switch (event.keyCode) {\r\n                case 38:\r\n                    event.preventDefault();\r\n                    this.action(INCREMENT, event);\r\n                    break;\r\n                case 40:\r\n                    event.preventDefault();\r\n                    this.action(DECREMENT, event);\r\n                    break;\r\n                default: break;\r\n            }\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.performAction = function (value, step, operation) {\r\n        if (value === null || isNaN(value)) {\r\n            value = 0;\r\n        }\r\n        var updatedValue = operation === INCREMENT ? value + step : value - step;\r\n        updatedValue = this.correctRounding(value, step, updatedValue);\r\n        return this.strictMode ? this.trimValue(updatedValue) : updatedValue;\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.correctRounding = function (value, step, result) {\r\n        var floatExp = new RegExp('[,.](.*)');\r\n        var valueText = value.toString();\r\n        var stepText = step.toString();\r\n        var floatValue = floatExp.test(value.toString());\r\n        var floatStep = floatExp.test(step.toString());\r\n        if (floatValue || floatStep) {\r\n            var valueCount = floatValue ? floatExp.exec(value.toString())[0].length : 0;\r\n            var stepCount = floatStep ? floatExp.exec(step.toString())[0].length : 0;\r\n            var max = Math.max(valueCount, stepCount);\r\n            return value = this.roundValue(result, max);\r\n        }\r\n        return result;\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.roundValue = function (result, precision) {\r\n        precision = precision || 0;\r\n        var divide = Math.pow(10, precision);\r\n        return result *= divide, result = Math.round(result) / divide;\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.updateValue = function (value, event) {\r\n        if (event) {\r\n            this.isInteract = true;\r\n        }\r\n        if (value !== null && !isNaN(value)) {\r\n            if (this.decimals) {\r\n                value = this.roundNumber(value, this.decimals);\r\n            }\r\n        }\r\n        this.changeValue(value === null || isNaN(value) ? null : this.strictMode ? this.trimValue(value) : value);\r\n        if ((!this.isVue) || (this.isVue && !this.preventChange)) {\r\n            this.raiseChangeEvent(event);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateCurrency = function (prop, propVal) {\r\n        setValue(prop, propVal, this.cultureInfo);\r\n        this.updateValue(this.value);\r\n    };\r\n    NumericTextBox.prototype.changeValue = function (value) {\r\n        if (!(value || value === 0)) {\r\n            value = null;\r\n            this.setProperties({ value: value }, true);\r\n        }\r\n        else {\r\n            var numberOfDecimals = void 0;\r\n            numberOfDecimals = this.getNumberOfDecimals(value);\r\n            this.setProperties({ value: this.roundNumber(value, numberOfDecimals) }, true);\r\n        }\r\n        this.modifyText();\r\n        if (!this.strictMode) {\r\n            this.validateState();\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.modifyText = function () {\r\n        if (this.value || this.value === 0) {\r\n            var value = this.formatNumber();\r\n            var elementValue = this.isFocused ? value : this.instance.getNumberFormat(this.cultureInfo)(this.value);\r\n            this.setElementValue(elementValue);\r\n            attributes(this.element, { 'aria-valuenow': value });\r\n            this.hiddenInput.value = this.value.toString();\r\n            if (this.value !== null && this.serverDecimalSeparator) {\r\n                this.hiddenInput.value = this.hiddenInput.value.replace('.', this.serverDecimalSeparator);\r\n            }\r\n        }\r\n        else {\r\n            this.setElementValue('');\r\n            this.element.removeAttribute('aria-valuenow');\r\n            this.hiddenInput.value = null;\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.setElementValue = function (val, element) {\r\n        Input.setValue(val, (element ? element : this.element), this.floatLabelType, this.showClearButton);\r\n    };\r\n    NumericTextBox.prototype.validateState = function () {\r\n        this.isValidState = true;\r\n        if (this.value || this.value === 0) {\r\n            this.isValidState = !(this.value > this.max || this.value < this.min);\r\n        }\r\n        this.checkErrorClass();\r\n    };\r\n    NumericTextBox.prototype.getNumberOfDecimals = function (value) {\r\n        var numberOfDecimals;\r\n        var EXPREGEXP = new RegExp('[eE][\\-+]?([0-9]+)');\r\n        var valueString = value.toString();\r\n        if (EXPREGEXP.test(valueString)) {\r\n            var result = EXPREGEXP.exec(valueString);\r\n            if (!isNullOrUndefined(result)) {\r\n                valueString = value.toFixed(Math.min(parseInt(result[1], 10), 20));\r\n            }\r\n        }\r\n        var decimalPart = valueString.split('.')[1];\r\n        numberOfDecimals = !decimalPart || !decimalPart.length ? 0 : decimalPart.length;\r\n        if (this.decimals !== null) {\r\n            numberOfDecimals = numberOfDecimals < this.decimals ? numberOfDecimals : this.decimals;\r\n        }\r\n        return numberOfDecimals;\r\n    };\r\n    NumericTextBox.prototype.formatNumber = function () {\r\n        var numberOfDecimals;\r\n        numberOfDecimals = this.getNumberOfDecimals(this.value);\r\n        return this.instance.getNumberFormat({\r\n            maximumFractionDigits: numberOfDecimals,\r\n            minimumFractionDigits: numberOfDecimals, useGrouping: false\r\n        })(this.value);\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.trimValue = function (value) {\r\n        if (value > this.max) {\r\n            return this.max;\r\n        }\r\n        if (value < this.min) {\r\n            return this.min;\r\n        }\r\n        return value;\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.roundNumber = function (value, precision) {\r\n        var result = value;\r\n        var decimals = precision || 0;\r\n        var result1 = result.toString().split('e');\r\n        result = Math.round(Number(result1[0] + 'e' + (result1[1] ? (Number(result1[1]) + decimals) : decimals)));\r\n        var result2 = result.toString().split('e');\r\n        result = Number(result2[0] + 'e' + (result2[1] ? (Number(result2[1]) - decimals) : -decimals));\r\n        return Number(result.toFixed(decimals));\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.cancelEvent = function (event) {\r\n        event.preventDefault();\r\n        return false;\r\n    };\r\n    NumericTextBox.prototype.keyPressHandler = function (event) {\r\n        if (!this.enabled || this.readonly) {\r\n            return true;\r\n        }\r\n        if (!Browser.isDevice && Browser.info.version === '11.0' && event.keyCode === 13) {\r\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\r\n            this.updateValue(parsedInput, event);\r\n            return true;\r\n        }\r\n        if (event.which === 0 || event.metaKey || event.ctrlKey || event.keyCode === 8 || event.keyCode === 13) {\r\n            return true;\r\n        }\r\n        var currentChar = String.fromCharCode(event.which);\r\n        var text = this.element.value;\r\n        text = text.substring(0, this.element.selectionStart) + currentChar + text.substring(this.element.selectionEnd);\r\n        if (!this.numericRegex().test(text)) {\r\n            event.preventDefault();\r\n            event.stopPropagation();\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.numericRegex = function () {\r\n        var numericObject = getNumericObject(this.locale);\r\n        var decimalSeparator = getValue('decimal', numericObject);\r\n        var fractionRule = '*';\r\n        if (decimalSeparator === DECIMALSEPARATOR) {\r\n            decimalSeparator = '\\\\' + decimalSeparator;\r\n        }\r\n        if (this.decimals === 0 && this.validateDecimalOnType) {\r\n            return INTREGEXP;\r\n        }\r\n        if (this.decimals && this.validateDecimalOnType) {\r\n            fractionRule = '{0,' + this.decimals + '}';\r\n        }\r\n        return new RegExp('^(-)?(((\\\\d+(' + decimalSeparator + '\\\\d' + fractionRule +\r\n            ')?)|(' + decimalSeparator + '\\\\d' + fractionRule + ')))?$');\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.mouseWheel = function (event) {\r\n        event.preventDefault();\r\n        var delta;\r\n        var rawEvent = event;\r\n        if (rawEvent.wheelDelta) {\r\n            delta = rawEvent.wheelDelta / 120;\r\n        }\r\n        else if (rawEvent.detail) {\r\n            delta = -rawEvent.detail / 3;\r\n        }\r\n        if (delta > 0) {\r\n            this.action(INCREMENT, event);\r\n        }\r\n        else if (delta < 0) {\r\n            this.action(DECREMENT, event);\r\n        }\r\n        this.cancelEvent(event);\r\n    };\r\n    NumericTextBox.prototype.focusHandler = function (event) {\r\n        var _this = this;\r\n        this.focusEventArgs = { event: event, value: this.value, container: this.container };\r\n        this.trigger('focus', this.focusEventArgs);\r\n        if (!this.enabled || this.readonly) {\r\n            return;\r\n        }\r\n        this.isFocused = true;\r\n        removeClass([this.container], ERROR);\r\n        this.prevValue = this.value;\r\n        if ((this.value || this.value === 0)) {\r\n            var formatValue_1 = this.formatNumber();\r\n            this.setElementValue(formatValue_1);\r\n            if (!this.isPrevFocused) {\r\n                if (!Browser.isDevice && Browser.info.version === '11.0') {\r\n                    this.element.setSelectionRange(0, formatValue_1.length);\r\n                }\r\n                else {\r\n                    var delay = (Browser.isDevice && Browser.isIos) ? 600 : 0;\r\n                    setTimeout(function () {\r\n                        _this.element.setSelectionRange(0, formatValue_1.length);\r\n                    }, delay);\r\n                }\r\n            }\r\n        }\r\n        if (!Browser.isDevice) {\r\n            EventHandler.add(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel, this);\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.focusOutHandler = function (event) {\r\n        var _this = this;\r\n        this.blurEventArgs = { event: event, value: this.value, container: this.container };\r\n        this.trigger('blur', this.blurEventArgs);\r\n        if (!this.enabled || this.readonly) {\r\n            return;\r\n        }\r\n        if (this.isPrevFocused) {\r\n            event.preventDefault();\r\n            if (Browser.isDevice) {\r\n                var value_1 = this.element.value;\r\n                this.element.focus();\r\n                this.isPrevFocused = false;\r\n                var ele_1 = this.element;\r\n                setTimeout(function () {\r\n                    _this.setElementValue(value_1, ele_1);\r\n                }, 200);\r\n            }\r\n        }\r\n        else {\r\n            this.isFocused = false;\r\n            if (!this.element.value.length) {\r\n                this.setProperties({ value: null }, true);\r\n            }\r\n            var parsedInput = this.instance.getNumberParser({ format: 'n' })(this.element.value);\r\n            this.updateValue(parsedInput);\r\n            if (!Browser.isDevice) {\r\n                EventHandler.remove(this.element, 'mousewheel DOMMouseScroll', this.mouseWheel);\r\n            }\r\n        }\r\n        var formElement = closest(this.element, 'form');\r\n        if (formElement) {\r\n            var element = this.element.nextElementSibling;\r\n            var focusEvent = document.createEvent('FocusEvent');\r\n            focusEvent.initEvent('focusout', false, true);\r\n            element.dispatchEvent(focusEvent);\r\n        }\r\n    };\r\n    ;\r\n    NumericTextBox.prototype.mouseDownOnSpinner = function (event) {\r\n        var _this = this;\r\n        if (this.isFocused) {\r\n            this.isPrevFocused = true;\r\n            event.preventDefault();\r\n        }\r\n        if (!this.getElementData(event)) {\r\n            return;\r\n        }\r\n        var result = this.getElementData(event);\r\n        var target = event.currentTarget;\r\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\r\n        EventHandler.add(target, 'mouseleave', this.mouseUpClick, this);\r\n        this.timeOut = setInterval(function () { _this.isCalled = true; _this.action(action, event); }, 150);\r\n        EventHandler.add(document, 'mouseup', this.mouseUpClick, this);\r\n    };\r\n    NumericTextBox.prototype.touchMoveOnSpinner = function (event) {\r\n        var target = document.elementFromPoint(event.clientX, event.clientY);\r\n        if (!(target.classList.contains(SPINICON))) {\r\n            clearInterval(this.timeOut);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.mouseUpOnSpinner = function (event) {\r\n        if (this.isPrevFocused) {\r\n            this.element.focus();\r\n            if (!Browser.isDevice) {\r\n                this.isPrevFocused = false;\r\n            }\r\n        }\r\n        if (!Browser.isDevice) {\r\n            event.preventDefault();\r\n        }\r\n        if (!this.getElementData(event)) {\r\n            return;\r\n        }\r\n        var target = event.currentTarget;\r\n        var action = (target.classList.contains(SPINUP)) ? INCREMENT : DECREMENT;\r\n        EventHandler.remove(target, 'mouseleave', this.mouseUpClick);\r\n        if (!this.isCalled) {\r\n            this.action(action, event);\r\n        }\r\n        this.isCalled = false;\r\n        EventHandler.remove(document, 'mouseup', this.mouseUpClick);\r\n        var formElement = closest(this.element, 'form');\r\n        if (formElement) {\r\n            var element = this.element.nextElementSibling;\r\n            var keyupEvent = document.createEvent('KeyboardEvent');\r\n            keyupEvent.initEvent('keyup', false, true);\r\n            element.dispatchEvent(keyupEvent);\r\n        }\r\n    };\r\n    NumericTextBox.prototype.getElementData = function (event) {\r\n        if ((event.which && event.which === 3) || (event.button && event.button === 2)\r\n            || !this.enabled || this.readonly) {\r\n            return false;\r\n        }\r\n        clearInterval(this.timeOut);\r\n        return true;\r\n    };\r\n    NumericTextBox.prototype.floatLabelTypeUpdate = function () {\r\n        Input.removeFloating(this.inputWrapper);\r\n        var hiddenInput = this.hiddenInput;\r\n        this.hiddenInput.remove();\r\n        Input.addFloating(this.element, this.floatLabelType, this.placeholder, this.createElement);\r\n        this.container.insertBefore(hiddenInput, this.container.childNodes[1]);\r\n    };\r\n    NumericTextBox.prototype.mouseUpClick = function (event) {\r\n        event.stopPropagation();\r\n        clearInterval(this.timeOut);\r\n        this.isCalled = false;\r\n        EventHandler.remove(this.spinUp, 'mouseleave', this.mouseUpClick);\r\n        EventHandler.remove(this.spinDown, 'mouseleave', this.mouseUpClick);\r\n    };\r\n    /**\r\n     * Increments the NumericTextBox value with the specified step value.\r\n     * @param  {number} step - Specifies the value used to increment the NumericTextBox value.\r\n     * if its not given then numeric value will be incremented based on the step property value.\r\n     */\r\n    NumericTextBox.prototype.increment = function (step) {\r\n        if (step === void 0) { step = this.step; }\r\n        this.isInteract = false;\r\n        this.changeValue(this.performAction(this.value, step, INCREMENT));\r\n        this.raiseChangeEvent();\r\n    };\r\n    /**\r\n     * Decrements the NumericTextBox value with specified step value.\r\n     * @param  {number} step - Specifies the value used to decrement the NumericTextBox value.\r\n     * if its not given then numeric value will be decremented based on the step property value.\r\n     */\r\n    NumericTextBox.prototype.decrement = function (step) {\r\n        if (step === void 0) { step = this.step; }\r\n        this.isInteract = false;\r\n        this.changeValue(this.performAction(this.value, step, DECREMENT));\r\n        this.raiseChangeEvent();\r\n    };\r\n    /**\r\n     * Removes the component from the DOM and detaches all its related event handlers.\r\n     * Also it maintains the initial input element from the DOM.\r\n     * @method destroy\r\n     * @return {void}\r\n     */\r\n    NumericTextBox.prototype.destroy = function () {\r\n        this.unwireEvents();\r\n        if (!(isBlazor() && this.isServerRendered)) {\r\n            detach(this.hiddenInput);\r\n            if (this.showSpinButton) {\r\n                this.unwireSpinBtnEvents();\r\n                detach(this.spinUp);\r\n                detach(this.spinDown);\r\n            }\r\n            var attrArray = ['aria-labelledby', 'role', 'autocomplete', 'aria-readonly',\r\n                'autocorrect', 'aria-disabled', 'aria-placeholder', 'autocapitalize',\r\n                'spellcheck', 'aria-autocomplete', 'tabindex', 'aria-valuemin',\r\n                'aria-valuemax', 'aria-live', 'aria-valuenow', 'aria-invalid'];\r\n            for (var i = 0; i < attrArray.length; i++) {\r\n                this.element.removeAttribute(attrArray[i]);\r\n            }\r\n            this.element.classList.remove('e-input');\r\n            this.container.insertAdjacentElement('afterend', this.element);\r\n            detach(this.container);\r\n            _super.prototype.destroy.call(this);\r\n        }\r\n    };\r\n    /**\r\n     * Returns the value of NumericTextBox with the format applied to the NumericTextBox.\r\n     */\r\n    NumericTextBox.prototype.getText = function () {\r\n        return this.element.value;\r\n    };\r\n    /**\r\n     * Sets the focus to widget for interaction.\r\n     * @returns void\r\n     */\r\n    NumericTextBox.prototype.focusIn = function () {\r\n        if (document.activeElement !== this.element && this.enabled) {\r\n            this.element.focus();\r\n            addClass([this.container], [NUMERIC_FOCUS]);\r\n        }\r\n    };\r\n    /**\r\n     * Remove the focus from widget, if the widget is in focus state.\r\n     * @returns void\r\n     */\r\n    NumericTextBox.prototype.focusOut = function () {\r\n        if (document.activeElement === this.element && this.enabled) {\r\n            this.element.blur();\r\n            removeClass([this.container], [NUMERIC_FOCUS]);\r\n        }\r\n    };\r\n    /**\r\n     * Gets the properties to be maintained in the persisted state.\r\n     * @return {string}\r\n     */\r\n    NumericTextBox.prototype.getPersistData = function () {\r\n        var keyEntity = ['value'];\r\n        return this.addOnPersist(keyEntity);\r\n    };\r\n    /**\r\n     * Calls internally if any of the property value is changed.\r\n     * @private\r\n     */\r\n    NumericTextBox.prototype.onPropertyChanged = function (newProp, oldProp) {\r\n        var elementVal;\r\n        for (var _i = 0, _a = Object.keys(newProp); _i < _a.length; _i++) {\r\n            var prop = _a[_i];\r\n            switch (prop) {\r\n                case 'width':\r\n                    this.setElementWidth(newProp.width);\r\n                    break;\r\n                case 'cssClass':\r\n                    this.updateCssClass(newProp.cssClass, oldProp.cssClass);\r\n                    break;\r\n                case 'enabled':\r\n                    Input.setEnabled(newProp.enabled, this.element);\r\n                    break;\r\n                case 'enableRtl':\r\n                    Input.setEnableRtl(newProp.enableRtl, [this.container]);\r\n                    break;\r\n                case 'readonly':\r\n                    Input.setReadonly(newProp.readonly, this.element);\r\n                    if (this.readonly) {\r\n                        attributes(this.element, { 'aria-readonly': 'true' });\r\n                    }\r\n                    else {\r\n                        this.element.removeAttribute('aria-readonly');\r\n                    }\r\n                    break;\r\n                case 'htmlAttributes':\r\n                    this.updateHTMLAttrToElement();\r\n                    this.updateHTMLAttrToWrapper();\r\n                    this.updateDataAttribute(true);\r\n                    this.checkAttributes(true);\r\n                    break;\r\n                case 'placeholder':\r\n                    Input.setPlaceholder(newProp.placeholder, this.element);\r\n                    break;\r\n                case 'step':\r\n                    this.step = newProp.step;\r\n                    this.validateStep();\r\n                    break;\r\n                case 'showSpinButton':\r\n                    this.updateSpinButton(newProp);\r\n                    break;\r\n                case 'showClearButton':\r\n                    this.updateClearButton(newProp);\r\n                    break;\r\n                case 'floatLabelType':\r\n                    this.floatLabelType = newProp.floatLabelType;\r\n                    this.floatLabelTypeUpdate();\r\n                    break;\r\n                case 'value':\r\n                    this.updateValue(newProp.value);\r\n                    if (this.isVue && this.preventChange) {\r\n                        this.preventChange = false;\r\n                    }\r\n                    break;\r\n                case 'min':\r\n                case 'max':\r\n                    setValue(prop, getValue(prop, newProp), this);\r\n                    this.validateMinMax();\r\n                    this.updateValue(this.value);\r\n                    break;\r\n                case 'strictMode':\r\n                    this.strictMode = newProp.strictMode;\r\n                    this.updateValue(this.value);\r\n                    this.validateState();\r\n                    break;\r\n                case 'locale':\r\n                    this.initCultureFunc();\r\n                    this.l10n.setLocale(this.locale);\r\n                    this.setSpinButton();\r\n                    this.updatePlaceholder();\r\n                    Input.setPlaceholder(this.placeholder, this.element);\r\n                    this.updateValue(this.value);\r\n                    break;\r\n                case 'currency':\r\n                    var propVal = getValue(prop, newProp);\r\n                    this.setProperties({ currencyCode: propVal }, true);\r\n                    this.updateCurrency(prop, propVal);\r\n                    break;\r\n                case 'currencyCode':\r\n                    var propValue = getValue(prop, newProp);\r\n                    this.setProperties({ currency: propValue }, true);\r\n                    this.updateCurrency('currency', propValue);\r\n                    break;\r\n                case 'format':\r\n                    setValue(prop, getValue(prop, newProp), this);\r\n                    this.initCultureInfo();\r\n                    this.updateValue(this.value);\r\n                    break;\r\n                case 'decimals':\r\n                    this.decimals = newProp.decimals;\r\n                    this.updateValue(this.value);\r\n            }\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateClearButton = function (newProp) {\r\n        if (isBlazor()) {\r\n            if (this.showClearButton) {\r\n                this.inputWrapper.clearButton = this.container.querySelector('.e-clear-icon');\r\n                Input.wireClearBtnEvents(this.element, this.inputWrapper.clearButton, this.inputWrapper.container);\r\n            }\r\n        }\r\n        else {\r\n            Input.setClearButton(newProp.showClearButton, this.element, this.inputWrapper, undefined, this.createElement);\r\n            this.bindClearEvent();\r\n        }\r\n    };\r\n    NumericTextBox.prototype.updateSpinButton = function (newProp) {\r\n        if (isBlazor()) {\r\n            if (this.showSpinButton) {\r\n                this.spinDown = this.container.querySelector('.' + SPINDOWN);\r\n                this.spinUp = this.container.querySelector('.' + SPINUP);\r\n                this.wireSpinBtnEvents();\r\n            }\r\n        }\r\n        else {\r\n            if (newProp.showSpinButton) {\r\n                this.spinBtnCreation();\r\n            }\r\n            else {\r\n                detach(this.spinUp);\r\n                detach(this.spinDown);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Gets the component name\r\n     * @private\r\n     */\r\n    NumericTextBox.prototype.getModuleName = function () {\r\n        return 'numerictextbox';\r\n    };\r\n    __decorate([\r\n        Property('')\r\n    ], NumericTextBox.prototype, \"cssClass\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"value\", void 0);\r\n    __decorate([\r\n        Property(-(Number.MAX_VALUE))\r\n    ], NumericTextBox.prototype, \"min\", void 0);\r\n    __decorate([\r\n        Property(Number.MAX_VALUE)\r\n    ], NumericTextBox.prototype, \"max\", void 0);\r\n    __decorate([\r\n        Property(1)\r\n    ], NumericTextBox.prototype, \"step\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"width\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"placeholder\", void 0);\r\n    __decorate([\r\n        Property({})\r\n    ], NumericTextBox.prototype, \"htmlAttributes\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], NumericTextBox.prototype, \"showSpinButton\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], NumericTextBox.prototype, \"readonly\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], NumericTextBox.prototype, \"enabled\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], NumericTextBox.prototype, \"showClearButton\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], NumericTextBox.prototype, \"enablePersistence\", void 0);\r\n    __decorate([\r\n        Property('n2')\r\n    ], NumericTextBox.prototype, \"format\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"decimals\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"currency\", void 0);\r\n    __decorate([\r\n        Property(null)\r\n    ], NumericTextBox.prototype, \"currencyCode\", void 0);\r\n    __decorate([\r\n        Property(true)\r\n    ], NumericTextBox.prototype, \"strictMode\", void 0);\r\n    __decorate([\r\n        Property(false)\r\n    ], NumericTextBox.prototype, \"validateDecimalOnType\", void 0);\r\n    __decorate([\r\n        Property('Never')\r\n    ], NumericTextBox.prototype, \"floatLabelType\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], NumericTextBox.prototype, \"created\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], NumericTextBox.prototype, \"destroyed\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], NumericTextBox.prototype, \"change\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], NumericTextBox.prototype, \"focus\", void 0);\r\n    __decorate([\r\n        Event()\r\n    ], NumericTextBox.prototype, \"blur\", void 0);\r\n    NumericTextBox = __decorate([\r\n        NotifyPropertyChanges\r\n    ], NumericTextBox);\r\n    return NumericTextBox;\r\n}(Component));\r\nexport { NumericTextBox };\r\n"]},"metadata":{},"sourceType":"module"}